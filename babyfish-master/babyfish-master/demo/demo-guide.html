<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8" />
        <title>BabyFish Demo Guid</title>
        <style type="text/css">
            body {
                margin: 0px;
            }
            body {
                font-size: 14px;
                font-family: Arial;
            }
            table {
                width: 100%;
                border-collapse: collapse;
            }
            div.title {
                text-align: center;
                font-weight: bold;
                font-size: 40px;
                padding: 10px;
                background-color: rgb(0, 0, 100);
                color: white;
            }
            div.content {
                padding: 10px;
            }
            div.main {
                font-size:24px;
            }
            div.not-main {
                font-size: 16px;
                padding: 10px;
            }
            button.large {
                font-size: 24px;
                line-height: 24px;
                height: 40px;
                box-sizing: border-box;
                border: none 0px white;
                background:-webkit-linear-gradient(top, #fff, #bbb);
                background:-moz-linear-gradient(top, #fff, #bbb);
                background:-o-linear-gradient(top, #fff, #bbb);
                background:linear-gradient(top, #fff, #bbb);
                background-color: #ddd;
            }
            button.large:hover {
                background:-webkit-linear-gradient(top, #fed, #ba9);
                background:-moz-linear-gradient(top, #fed, #ba9);
                background:-o-linear-gradient(top, #fed, #ba9);
                background:linear-gradient(top, #fed, #ba9);
                background-color: #dcb;
            }
            button.large:active {
                background:-webkit-linear-gradient(top, #ba9, #fed);
                background:-moz-linear-gradient(top, #ba9, #fed);
                background:-o-linear-gradient(top, #ba9, #fed);
                background:linear-gradient(top, #ba9, #fed);
                background-color: #dcb;
            }
            button.large-group-start {
                padding-left: 20px;
                border-left: solid 1px gray;
                border-top: solid 1px gray;
                border-bottom: solid 1px gray;
                border-radius: 20px 0px 0px 20px;
            }
            button.large-group-end {
                border: solid 1px gray;
                padding-right: 20px;
                border-radius: 0px 20px 20px 0px;
            }
            fieldset.tree-node {
                border: none;
                padding: 0px 0px 0px 50px;
                margin: 10px 0px 10px 0px;
            }
            fieldset.tree-node > legend {
                margin-left: -50px;
                padding: 0px;
                line-height: 24px;
                vertical-align: middle;
                color: rgb(0, 0, 127);
            }
            fieldset.category > legend, fieldset.project > legend {
                font-size: 24px;
            }
            fieldset.folder > legend, fieldset.package > legend, fieldset.file > legend, fieldset.method > legend {
                font-size: 16px;
            }
            span.variable {
                font-weight: bold;
                color: rgb(104, 23, 23);
            }
            span.expand-all, span.collapse-all, span.expanded, span.collapsed, span.category, span.project {
                display: inline-block;
                box-sizing: border-box;
                width: 24px;
                height: 24px;
                background-repeat: no-repeat;
            }
            span.folder, span.package, span.file, span.method {
                display: inline-block;
                box-sizing: border-box;
                width: 16px;
                height: 16px;
                background-repeat: no-repeat;
            }
            fieldset.folder span.expanded, fieldset.package span.expanded, fieldset.file span.expanded, fieldset.method span.expanded,
            fieldset.folder span.collapsed, fieldset.package span.collapsed, fieldset.file span.collapsed, fieldset.method span.collapsed {
                height: 16px;
                background-position-y: -4px;
            }
            fieldset.category {
                font-size: 19px;
            }
            fieldset.project {
                font-size: 18px;
            }
            fieldset.folder {
                font-size: 17px;
            }
            fieldset.package {
                font-size: 16px;
            }
            fieldset.file {
                font-size: 15px;
            }
            fieldset.folder {
                font-size: 14px;
            }
            span.expanded:hover, span.collapsed:hover {
                background-color: rgb(200, 200, 200);
            }
            span.expanded {
                background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAALEwAACxMBAJqcGAAAAGNJREFUSIntzbENgDAMRNFfkR42YUxYBlLDSlkBGhcWSlJYToP869M9iKKo1wJswNTZJGAHZgtwAw9wNJAEZNlcFmAFSgPR50W2pjRyCuJ2XkOy93kNcT//IkPONTLsPIr+2gsEwx4NLAopngAAAABJRU5ErkJggg==');
            }
            span.collapsed {
                background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAALEwAACxMBAJqcGAAAAGlJREFUSIljYBgFowAKmKGYZoYvgmKaWKLDwMDwlYGB4T8tLXEYtYRUS35BLZlPSDETGRbYMjAwsEItOECGfrygBmrwPwYGhnhqG16NZHgCtQ2vQjI8kdqG60ENponhMJAExaNgFAwAAADtqh1TMLrxOQAAAABJRU5ErkJggg==');
            }
            span.category {
                background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAMAAADXqc3KAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAC61BMVEWap6cAAACYpqaWo6OSoKCRn5+OnJyLmpqIl5eFlJSEkY9AnOY+meY8luY7lOc5kec4j+eVo6Oqtra3wcG2wcGksLCPnZ2OnZ3I0dG0v7+BkJCMmprG0NCzvr5/jo6KmJjFzs6uurqEk5OIl5eIl5eKmZmSoKCHlpbCzMzP2NjBzMzCzc3Dzc22wsKRn5+Ek5PAysqPnZ2BkJC9yMiMmpp+jY27xsaIl5d7i4u4xcWGlJR4iIi2w8OEkY90hYWzwcFhqsdQuOZRt+RRt+RRt+RygoKxv79Zw+9NsuJvf3+uvb1Zw/JLruFsfHysu7tWv/JJq+JpenqqublSuvJIp+JneHiqublOtfJFpOJpenqPn5+ot7eptrV4rcxLsfJDoeJygoJpeXlldXVpcGlKls1HrfNBneNAnOZEqfM/muM+meZBpvM9luM8luY+o/M8lOM7lOc8n/M7keQ6kec5jeQ4j+c8nO0+n+4+n+4+n+47mOs4jeb3/Pz1+vr3+/v0+fn1+/vz+fnz+Pjz+vrx+Pjx9/fv9vbw9vby9/b0+fjW39/v9/ft9fXi8fTK6PDG5/DH5/Dc7/PS3Nzt9vbu9fSz4O5q0O9n0/Jo0/Jn0vGX2Ozp8/Pr9PTQ2trr9fXs9POi2etm2Pdw4/9w4v9s3/2C0evk8PLp8vLo8vLq9PTN2Njq8vGh1+pk1Pdt3/9p2/2Cz+vm8fDO19bn8vLo8fCf1eph0fhq3P9n2f1txuqc1Oqf1eug1uuQx9zl8fHm8O6c0+pezvhm2P9m1/9l1/5h0Plezfhfzvhgzvjj7+/k7u2b0ehayfhi0/9h0/9j1P/h7u7i7eyZz+hXxfhez/9dzv9ezv/g7e3h7euXzOhTwPhZyf/h7+/i7u2Xy+lPu/hUxP9Uw/9VxP9Lt/hPv/9Qv/9Is/hLuv9Kuv9FrvhHtf9Gtf9BqvhDsf9CsP8+pvg/rf8/rP87ovg7qP87qf8/qvhCtP9BtP////9qAYayAAAAfHRSTlMAAAAAAAAAAAAAAAAAAAAAADDQ+PaxDUf34RRH+OEUR/jmT0BBOhJH+Pr4+PnuYEf4ekf4eUf4eUf4eUf4eUf4uXZ4WRFH+OQ7R/jxQ0f48EJH+PBCSPnwQjfb+vj78EIKMkE8m/BCefBCefBCefBCefBCeUJW5vf29cQsTnDbVwAAAAFiS0dE+DtjZ2YAAAGCSURBVCjPYxAUEhYBAVExBkZkwCAuUVMLApJSTKgS0jJ19SAgK8eMKiGv0NAIBE2KSsoqEKCqxgKSUNdobgGCVk0tbQjQ0dVjBUnoG7S0tXd0dHQCjWsEKWnuMmQDSRgZd/f09vWDwISJPUDQPcmEHSRhajZ5ytRp02cAwcxZs+fMmdMz15wDJGFhOW/+goWLFgPBkqXLlq9YsXKVFSdIwtpm9uo1a9eBwPoNG1evXj1/ky0XSMLOfvOWrdu2g8COnbt27969Z6+Do5OzC4Or2779Bw4eOgwER44ePAYEB48fP+HuweDpdfLU6TNnz4HAWRg47+3D4Ot34eKly1euooBr/gEMgUHXb9y8dRsNBIcwhIbduXvv/oOHKOBReARDZFR0TOzjJ6jgaVw8Q0JiUnLKs+co4MXz1DRQtHGnv3z1GgW8ysgESfBkvXn7DgW8zc4BSfDmvv+AAj5+yMsHSfAVfPqMCr4UFoEk+Iu/fvuOAr7llYAkBErLyitQQGVVNQArEzJz0pHnIAAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAxNS0wNy0yNVQyMTo0OTozNiswODowMI10McMAAAAldEVYdGRhdGU6bW9kaWZ5ADIwMTAtMDYtMjBUMDA6MDA6MDArMDg6MDCHcFRIAAAATnRFWHRzb2Z0d2FyZQBJbWFnZU1hZ2ljayA2LjguOC0xMCBRMTYgeDg2XzY0IDIwMTUtMDctMTkgaHR0cDovL3d3dy5pbWFnZW1hZ2ljay5vcmcFDJw1AAAAGHRFWHRUaHVtYjo6RG9jdW1lbnQ6OlBhZ2VzADGn/7svAAAAF3RFWHRUaHVtYjo6SW1hZ2U6OkhlaWdodAAzMij0+PQAAAAWdEVYdFRodW1iOjpJbWFnZTo6V2lkdGgAMzLQWzh5AAAAGXRFWHRUaHVtYjo6TWltZXR5cGUAaW1hZ2UvcG5nP7JWTgAAABd0RVh0VGh1bWI6Ok1UaW1lADEyNzY5NjMyMDCPiM2kAAAAEXRFWHRUaHVtYjo6U2l6ZQA2MDhCQj/+WhwAAABYdEVYdFRodW1iOjpVUkkAZmlsZTovLy9ob21lL3d3d3Jvb3Qvd3d3LmVhc3lpY29uLm5ldC9jZG4taW1nLmVhc3lpY29uLmNuL3NyYy81MDQ5LzUwNDk5My5wbmc54nw0AAAAAElFTkSuQmCC');
            }
            span.project {
                background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAALEwAACxMBAJqcGAAAAdtJREFUSIm11MuLzWEYB/DPOeNgXGakIePSccks1GCQy0IsiAVrSSlKTUZZysq/YCUsZGMlYmFrIZNIRLOdaUpRk1xyi8Zh8bzn9Os0fucc58y33n7v7+19nu9z+T4v/4852NPoUrENgj84PJsE+/ClDftcLMYzrJ4N530YxUjmrKtTzrdhEpdQSP9nUO6E8yP4jNNYhBu4qL0+1rAVP3FSyPMRznXCcRVX8DTtj+K7JiNvNr03GE/7XnRjRwsBNsQSIctuLMUnjKHUSZLtuJD2x8Qk7+0kAVGW9Wk/LjKroiAE0DTKGMZBLMucF7EWQ3X3N+E87mFBlnUmDOJxWrfxAb9FzRemyPtQEQK4j4/J9g5u4W4eAZHuOvQnp12Yxle8T46/1dnMxwsxlBM5vms4gGsYSFHPTWRl7Mcp8fAR8r2OQ1kHeRkQZRjBbqwSMv2VMpjEKzzAW+zEEzGELWENelo1qqJRBnBVKGlMNBuWi7KN4qycqGciWClqP4GXyXhIlKlfyHQqEdaXpCjKOvUvwsFkcBlbRFMboTcFcBwnxFNSs6vPoIBd2IwNWJGiqmTuVMRMTOMH3olmvxbPyUbclOaiUQ8GRMl6hIJKac1LUVa/pZT5QzzPOvgLIMlTPTZOcVwAAAAASUVORK5CYII=');
            }
            span.folder {
                background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAABhlBMVEX///+AgIBfgJZfgJZfgJZfgJZfgJZfgJZfgJZfgJZfgJZfgJZfgJZfgJZfgJZfgJZfgJZfgJZfgJZfgJZhgZfq8fXw9vv0+fzx9/tvjaFig5jH3e3G3OzC2+zQ4/Ds9Pny9/v0+Pv0+ftpiJ22zuSjwdWEoragu9iAnrPBztb////h5+uctNTK3enM4e7N4e7X5/LP4u7U5fDR5PDd6/Pb6fLT5fDY6PLQ4OqLp8V5lae/1uXA2OfI3eq81ebS4+6/1+fF2+rL3uvT5O7M3+ylvs96l7OdssCmw9ezzd+rydywzd+yzd++1uXE2eexzeC50uK0z+G81OSPqbxsi6WovsufvdCkwdOnw9WLscqMscuiwdWdvtKPtM6tyNqtydp9maxigpisxNKbuMuVtMicucyBp8CJrMWCqcKUtcukwNOkwdRlhZpmhpubt8qWs8eJqsCUscWMrMKDp7+YtciTssefu86jv9Jjg5mRr8OPrMGOrMCGpr2Nq8CJqb6QrsKZtsmauMpPbnoFAAAAE3RSTlMAAIfw/JMS2mbP5654QgzR/unEMY/lsgAAAAFiS0dEAIgFHUgAAADFSURBVBjTY2AgCJiYhYVZWBnhgEFEVExcQlIYDJiZgAJS0jKycvIKikpAIKrMxsggrKKqJgwH7BwMwuoamlpwoM3JIKwjoqunb2BoZGxiamZuwcUgbGllbWNrZ+/g6ORs7+LKzSDs5u7h6eXt4+vnHxAYFMzDIBwSGhYeERkVHRMbFx+fwMsgnJiUnJKcmpaanpGZlZ3DxyCcm5dfUFhYVFhcUlpWLszIwF9RUFlVXVNbXVdf2NAowMjAIYhwlrCAECOGZwER4ylalXDm6wAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAxNS0wNy0yNVQyMTo1MDoxOCswODowMKL1uekAAAAldEVYdGRhdGU6bW9kaWZ5ADIwMTItMTEtMTFUMjE6MTM6NTUrMDg6MDB3Er/4AAAATnRFWHRzb2Z0d2FyZQBJbWFnZU1hZ2ljayA2LjguOC0xMCBRMTYgeDg2XzY0IDIwMTUtMDctMTkgaHR0cDovL3d3dy5pbWFnZW1hZ2ljay5vcmcFDJw1AAAAGHRFWHRUaHVtYjo6RG9jdW1lbnQ6OlBhZ2VzADGn/7svAAAAF3RFWHRUaHVtYjo6SW1hZ2U6OkhlaWdodAAxNh2vXm8AAAAWdEVYdFRodW1iOjpJbWFnZTo6V2lkdGgAMTblAJ7iAAAAGXRFWHRUaHVtYjo6TWltZXR5cGUAaW1hZ2UvcG5nP7JWTgAAABd0RVh0VGh1bWI6Ok1UaW1lADEzNTI2Mzk2MzUk3CjYAAAAEnRFWHRUaHVtYjo6U2l6ZQAxLjVLQkJhgJctAAAAWnRFWHRUaHVtYjo6VVJJAGZpbGU6Ly8vaG9tZS93d3dyb290L3d3dy5lYXN5aWNvbi5uZXQvY2RuLWltZy5lYXN5aWNvbi5jbi9zcmMvMTA5MjUvMTA5MjU0Ny5wbmcfneLaAAAAAElFTkSuQmCC');
            }
            span.package {
                background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAABGdBTUEAAK/INwWK6QAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAACZ1BMVEX////YtE3YskvXsErWrkjZtk7YtE3XskvVrEXUqkTTp0Lat0/Ztk7YtEzRpD/Qoj3PoDvZt0/ZtU7OnTnNmjbZt0/ZtU3LlTLYtE3Jki/XskvIjy3WsEnHjSvVrUfGiijUqkTFhybTqELEhSTSpUDDgyLQoj3PoDvOnTnDhCPCgiLCgCDNmjbMmDTLlTLEhiXDhCPCgiHKkzDJkC7IjizEhSTDgyPGiyrFiSjFhybEhSTq1ZznzIjlz5L8+Ob+9uPy3a/35LLhwHLgxn737tH///b//vD77cvarVD314v54ary1pXbsmLt2aX169Lt3r7eyZXbw4nWuHDduWn115D1z3/4253646rsyoTVplH++OH5683t0pLrzITlv2/bsVbIlDv67M7/9dn/6rn+35X/1Xf/5KX73IT9+OL/89T65LDxz4b10H/10HjksUz/6bb/4Zv+1nj1vUDptT3x1ZD99uL/9Nr/89X/67331Yn1yWnptEz72o3/3Iz5xEjstjjov0jou0/w0Iz89uL/9Nf/8s7/78j/67r725LxwVb5wkjwvTvsxUfpvUXmtULmsUfuyoj/8Mn/7b7/6rP/563+2Xzvx0jqxEPovkPmtT/jqzrhp0DsxYP+++f/9t3/78H/67f/6Kv/5KT+4ZbrxkjpvUDmtD3iqTjenzLmtmvuxIPcvXf25b//9tv/7sH/5aX/45/+4ZTqwUbmtTriqjflr1btxofks3TKkErgwH387sf/8sz/6Kj+4JTnukHksUXvyorrwYLQl1PlxIL/9Mz/78Tx0ovwzorXpF/rzY/it2/IjkD///+fmXDcAAAAO3RSTlMAK6+8MRaE7/OMGgVl2+BsCUbCyE2f/qb7+/Dw8PDw8PDw+fi7wQZl2+BtChaF7/ONGyul/qwxRr7ETfEaKk4AAAABYktHRACIBR1IAAAA+UlEQVQY02NgAANGJmYWBgRgZWO3tuHg5IJyuXl4be3sHRyd+PgFQHxBIWcXVzd3D08vbx9hEQYGUTFfP/+AwKDgkNCw8IhIcQaJqOiY2Lj4hMSk5JTUtHRJBqmMzKzsnNy8rPyCwqLiEmkGmdKy8orKquqa2rr6hsYmWQa55pbWtvaOzq7unt6+/gnyDArNmRMnTZ4yddr0GTNnzZ6jyKA0d978BQsXLV6ydNnyFStXKTOorF6zdt36DRs3bd6yddv2HaoMauoaO3ft3rN33/4DBw9pamkDnaqjq3f4yNFjx0/oGxhCfWNkbHLy1GlTMyT/mltYWkFYAOcyUjk1dbrSAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDE1LTA3LTI1VDIxOjUwOjI3KzA4OjAw2jLO4wAAACV0RVh0ZGF0ZTptb2RpZnkAMjAxMC0wNC0yNlQwMDowMDowMCswODowMKBVO10AAABOdEVYdHNvZnR3YXJlAEltYWdlTWFnaWNrIDYuOC44LTEwIFExNiB4ODZfNjQgMjAxNS0wNy0xOSBodHRwOi8vd3d3LmltYWdlbWFnaWNrLm9yZwUMnDUAAAAYdEVYdFRodW1iOjpEb2N1bWVudDo6UGFnZXMAMaf/uy8AAAAXdEVYdFRodW1iOjpJbWFnZTo6SGVpZ2h0ADE2Ha9ebwAAABZ0RVh0VGh1bWI6OkltYWdlOjpXaWR0aAAxNuUAnuIAAAAZdEVYdFRodW1iOjpNaW1ldHlwZQBpbWFnZS9wbmc/slZOAAAAF3RFWHRUaHVtYjo6TVRpbWUAMTI3MjIxMTIwMAkpDe8AAAARdEVYdFRodW1iOjpTaXplADg1M0JCu0X7rgAAAFZ0RVh0VGh1bWI6OlVSSQBmaWxlOi8vL2hvbWUvd3d3cm9vdC93d3cuZWFzeWljb24ubmV0L2Nkbi1pbWcuZWFzeWljb24uY24vc3JjLzIzMC8yMzA3OS5wbmflxeC9AAAAAElFTkSuQmCC');
            }
            span.file {
                background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAAAAAA6mKC9AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAnRSTlMAAHaTzTgAAAACYktHRAD/h4/MvwAAACpJREFUGNNjYGBogAEGKGj4DwFwEbjA/wZ0AagIQgvUHJgAWHBwCyADBgBRlaj0nZILPgAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAxNS0wNy0yNVQyMTo0OTozNyswODowMCsDOncAAAAldEVYdGRhdGU6bW9kaWZ5ADIwMTAtMDQtMjZUMDA6MDA6MDArMDg6MDCgVTtdAAAATnRFWHRzb2Z0d2FyZQBJbWFnZU1hZ2ljayA2LjguOC0xMCBRMTYgeDg2XzY0IDIwMTUtMDctMTkgaHR0cDovL3d3dy5pbWFnZW1hZ2ljay5vcmcFDJw1AAAAGHRFWHRUaHVtYjo6RG9jdW1lbnQ6OlBhZ2VzADGn/7svAAAAF3RFWHRUaHVtYjo6SW1hZ2U6OkhlaWdodAAxNh2vXm8AAAAWdEVYdFRodW1iOjpJbWFnZTo6V2lkdGgAMTblAJ7iAAAAGXRFWHRUaHVtYjo6TWltZXR5cGUAaW1hZ2UvcG5nP7JWTgAAABd0RVh0VGh1bWI6Ok1UaW1lADEyNzIyMTEyMDAJKQ3vAAAAEXRFWHRUaHVtYjo6U2l6ZQAxMzFCQpC6Em0AAABWdEVYdFRodW1iOjpVUkkAZmlsZTovLy9ob21lL3d3d3Jvb3Qvd3d3LmVhc3lpY29uLm5ldC9jZG4taW1nLmVhc3lpY29uLmNuL3NyYy8xNDQvMTQ0MzQucG5nOEiBFgAAAABJRU5ErkJggg==');
            }
            span.method {
                background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAALEwAACxMBAJqcGAAAATxJREFUOI21kl0rw2EYh6+Lpfgg8tbCGCfOKKUkJS+pqeUjSUpKvglHCuVEKZTxAYwspe1xsFu29V+OdtdT98vv/j33G/RQ8uq9eg9MdQP1ddgzwFroo8BwvNHwrQLFbmQF9V1N6pn6EnpSX9VTtaF+ALNZBEtqvSUpqV9qrcNXB5YzS1CPAvQObAM5oB/YUKsRO87KnQZK6rOagF2gqN6ot8A8sBUEFaAEFACMn2+BfJDVU0pD6gVwCTSAhZTSnPoJDATuLqU0ngsjdXYD1IGhiH3T3JgtmLacEWBdfYwWyjTv4DwqmQT2ooUnYJ2/1bYN8ThANWAfGIxXVj8jdpI1RICV2HPryhpZPpoHBbRfYgV4i6EdAg/Rs8AjcBBzqQLP3aqYAJZC3/z9FdgJ3yJ/2/pXxtQr9TqIeyM/KyRgjfF1WZIAAAAASUVORK5CYII=');
            }
            span.comprehensive {
                color: rgb(127, 63, 63);
                font-weight: bold;
            }
            table>thead {
                text-align: left;
                background-color: rgb(230, 230, 230);
            }
            fieldset p, fieldset pre, fieldset ul, fieldset ol, fieldset li {
                margin: 5px 0px 5px 0px;
            }
            div.code, div.info, div.warning {
                padding: 5px;
            }
            div.code {
                background-color: rgb(230, 230, 230);
            }
            div.info {
                background-color: rgb(230, 255, 230);
            }
            div.warning {
                background-color: rgb(255, 230, 230);
            }
            div.author {
                font-size: 16px;
                font-weight: bold;
                text-align: right;
            }
            div.no-wrap {
                white-space: nowrap;
            }
            table.inline {
                display: inline-table;
            }
            div.comment, span.comment {
                color: rgb(0, 127, 0);
            }
            div.tab {
                margin: 20px;
                border-bottom: solid 1px rgb(0, 0, 127);
                font-size: 18px;
                font-weight: bold;
            }
            div.tab > a, div.tab > span {
                display: inline-block;
                border: solid 1px rgb(0, 0, 127);
                border-bottom: none;
                padding: 5px;
                border-radius: 5px 5px 0px 0px;
                cursor: default;
                text-decoration: none;
            }
            div.tab > a:hover {
                background-color: rgb(230, 230,255);
            }
            div.tab > a:visited {
                color: black;
            }
            div.tab > span {
                background-color: rgb(0, 0, 127) ! important;
                color: white ! important;
            }
        </style>
        <script type="text/javascript">
            Array.prototype.indexOf = function (value) {
                var len = this.length;
                for (var i = 0; i < len; i++) {
                    if (this[i] === value) {
                        return i;
                    }
                }
                return -1;
            };
            HTMLElement.prototype.first = function (nodeName) {
                for (var child = this.firstChild; child; child = child.nextSibling) {
                    if (child.nodeName === nodeName) {
                        return child;
                    }
                }
                return null;
            };
            HTMLElement.prototype.show = function (shown) {
                this.style.display = shown ? "" : "none";
            };
            HTMLDocument.prototype.on = HTMLElement.prototype.on = function (eventName, eventHandler) {
                if (this.addEventListener) {
                    this.addEventListener(eventName, eventHandler, false);
                } else if (this.attachEvent) {
                    var that = this;
                    this.attachEvent("on" + eventName, function () {
                        eventHandler.call(that, window.event);
                    });
                } else {
                    if (this.$eventHandlers) {
                        this.$eventHandlers.push(eventHandler);
                    } else {
                        this.$eventHandlers = [eventHandler];
                        var that = this;
                        this["on" + eventName] = function (e) {
                            var arr = this.$eventHandlers;
                            var len = arr.length;
                            for (var i = 0; i < len; i++) {
                                arr[i].call(that, e || window.event);
                            }
                        };
                    }
                }
            };
            (function () {
                document.on("readystatechange", function () {
                    if (document.readyState != "complete") {
                        return;
                    }
                    document.getElementById("expandAllButton").on("click", function () {
                        setAllExpanded(true);
                    });
                    document.getElementById("collapseAllButton").on("click", function () {
                        setAllExpanded(false);
                    });
                    var iconClasses = ["category", "project", "folder", "package", "file", "method"];
                    var fieldsets = document.getElementsByTagName("FIELDSET");
                    for (var i = fieldsets.length - 1; i >= 0; i--) {
                        var fieldset = fieldsets[i];
                        var classes = fieldset.getAttribute("class") || fieldset.className;
                        if (!classes) {
                            continue;
                        }
                        classes = classes.split(/\s+/);
                        if (classes.indexOf("tree-node") == -1) {
                            continue;
                        }
                        var legend = fieldset.first("LEGEND");
                        if (!legend) {
                            continue;
                        }
                        var contentDiv = document.createElement("DIV");
                        var silbing = legend.nextSibling;
                        while (silbing) {
                            var nextSilbing = silbing.nextSibling;
                            contentDiv.appendChild(silbing);
                            silbing = nextSilbing;
                        }
                        fieldset.appendChild(contentDiv);
                        for (var ii = iconClasses.length - 1; ii >= 0; ii--) {
                            if (classes.indexOf(iconClasses[ii]) != -1) {
                                insertIcon(legend, iconClasses[ii], fieldset.className);
                                break;
                            }
                        }
                        var expanded = insertIcon(legend, "expanded", fieldset.className);
                        var collapsed = insertIcon(legend, "collapsed", fieldset.className);
                        collapsed.style.display = "none";
                        fieldset.$expanded = expanded;
                        fieldset.$collapsed = collapsed;
                        expanded.$fieldset = fieldset;
                        collapsed.$fieldset = fieldset;
                        fieldset.$legend = legend;
                        fieldset.$content = contentDiv;
                        expanded.on("click", function () {
                            setExpanded(this.$fieldset, false);
                        });
                        collapsed.on("click", function () {
                            setExpanded(this.$fieldset, true);
                        });
                    }
                    trimPreAndCode();
                });
                var setExpanded = function (fieldset, expanded) {
                    fieldset.$expanded.show(expanded);
                    fieldset.$collapsed.show(!expanded);
                    fieldset.$content.show(expanded);
                };
                var insertIcon = function(legend, iconClass, ie) {
                    var iconSpan = document.createElement("SPAN");
                    if (ie) {
                        iconSpan.className = iconClass;
                    } else {
                        iconSpan.setAttribute("class", iconClass);
                    }
                    legend.insertBefore(iconSpan, legend.firstChild);
                    return iconSpan;
                }
                var setAllExpanded = function (allExpanded) {
                    var fieldsets = document.getElementsByTagName("FIELDSET");
                    for (var i = fieldsets.length - 1; i >= 0; i--) {
                        var fieldset = fieldsets[i];
                        var classes = fieldset.getAttribute("class") || fieldset.className;
                        if (!classes) {
                            continue;
                        }
                        classes = classes.split(/\s+/);
                        if (classes.indexOf("tree-node") != -1) {
                            setExpanded(fieldset, allExpanded);
                        }
                    }
                };
                var trimPreAndCode = function () {
                    var pres = document.getElementsByTagName("PRE");
                    var codes = document.getElementsByTagName("CODE");
                    for (var i = pres.length - 1; i >= 0; i--) {
                        trim(pres[i]);
                    }
                    for (var i = codes.length - 1; i >= 0; i--) {
                        trim(codes[i]);
                    }
                }
                var trim = function (element) {
                    var child = element.firstChild; 
                    while (child) {
                        var nextChild = child.nextSibling;
                        if (child.nodeType == 3) {
                            var nodeValue = child.nodeValue;
                            var trimedValue = nodeValue.trim();
                            if (trimedValue.length != nodeValue.length) {
                                element.removeChild(child);
                                element.insertBefore(document.createTextNode(trimedValue), nextChild);
                            }
                        }
                        child = nextChild;
                    }
                }
            })();
        </script>
    </head>
    <body>
        <div class="title">
            BabyFish Demo Guide
        </div>
        <div class="tab">
            <a href="../babyfish.html">Introduction</a>
            <a href="../get-started.html">Get Started</a>
            <span>Demo Guide</span>
            <a href="../to-dotnet-developers.html">To .NET Developers</a>
        </div>
        <div class="content">
            <div class="main">
                <p>This demo guide can</p>
                <ul>
                    <li>Give the introduction of all demo projects</li>
                    <li>Give a suggestion of learn order.</li>
                </ul>
            </div>
            <div class="not-main">
                Babyfish supports many demo projects,
                most of them are used to show the functionalities one by one,
                but it also supports three comprehensive demo projects: 
                <a href="#babyfishdemo-om4java-dom">babyfishdemo-om4java-dom</a>, 
                <a href="#babyfishdemo-spring">babyfishdemo-spring</a>
                and 
                <a href="#babyfishdemo-war3shop">babyfishdemo-war3shop</a>.
            </div>
            <div>
            <div class="no-wrap">
                <button id="expandAllButton" class="large large-group-start">
                    Expand whole tree
                </button><button id="collapseAllButton" class="large large-group-end">
                    Collapse whole tree
                </button>
            </div>
            </div>
            <fieldset class="tree-node category">
                <legend>Demos for Java</legend>
                <fieldset class="tree-node project">
                    <legend>babyfishdemo-fundation</legend>
                    This project is used to demonstrate three basic functionalities of babyfish: 
                    <ul>
                        <li>.NET style Delegate and Event</li>
                        <li>ObjctEquality</li>
                        <li>Typed-I18N</li>
                    </ul>
                    <fieldset class="tree-node folder">
                        <legend>src/test/java</legend>
                        <fieldset class="tree-node package">
                            <legend>org.babyfishdemo.foundation.combiner</legend>
                            This package is used to demonstrate the .NET style Delegate and Event
                            <div class="info">
                                This functionality is also supported by C++ part, please
                                see "<span class="variable">${babyfish-dir}</span>/c++" to know more.
                            </div>
                            <fieldset class="tree-node file">
                                <legend>CombinerTest.java</legend>
                                This test class is used to demonstrate the .NET style Delegate.
                                It allows the programmer to create a Combiner of an interface type,
                                the combiner can wrap several instances of that interface into
                                a special proxy instance whose class is specified by the dynamic 
                                bytecode generated in runtime, when a method of the proxy is invoked,
                                the corresponding method of all the original instances is invoked.
                                <fieldset class="tree-node method">
                                    <legend>testSimpleCombiner</legend>
                                    <ul>
                                        <li>
                                            Combiner can wrap several instances of one interface type into a special proxy,
                                            any method invocation of the proxy will dispatched to all the original instances.
                                        </li>
                                        <li>Combiner supports removing.</li>
                                        <li>
                                            For methods has returned value, the returned value of the 
                                            combiner proxy is the returned value of the last interface
                                            instance that is wrapped by that proxy.
                                        </li>
                                    </ul>
                                </fieldset>
                                <fieldset class="tree-node method">
                                    <legend>testNull</legend>
                                    <ul>
                                        <li>The methods "combiner" and "remove" of Combiner accept null argument</li>
                                        <li>Combiner.remove() returns null when all the wrapped interfaces have been removed from the proxy</li>
                                    </ul>
                                </fieldset>
                                <fieldset class="tree-node method">
                                    <legend>testBreakWhenExceptionRaised</legend>
                                    If a method of an orginal instance throws an exception when it's invokied by its combiner proxy, 
                                    rethrow the exception immdiately and the following original instances will not be invoked.
                                </fieldset>
                                <fieldset class="tree-node method">
                                    <legend>testContinueWhenExceptionRaised</legend>
                                    If a method of an orginal instance throws an exception when it's invokied by its combiner proxy, 
                                    temporarily ignore the exception, rethrow it until all the following original instances are invoked.
                                </fieldset>
                            </fieldset>
                            <fieldset class="tree-node file">
                                <legend>EventTest.java</legend>
                                This test class is used to demonstrate the .NET style Event.
                                Under src/main/java, the class "orgbabyfishdemo.foundation.combiner.Book" 
                                supports event by babyfish combiner.
                                <div class="warning">
                                    If the event is supported by the classic Java Bean Standard.
                                    the object which is used to trigger event must 
                                    use an private instanceof of java.util.List to retain all the event listeners
                                    and support two methods "addXXXListener" and "removeXXXListener" to modify it.
                                    It also use iterator of the list to trigger events,
                                    it will throw "java.util.ConcurrentModificationException" 
                                    if the user has invoked "addXXXListener" or "removeXXXListener" during the event notification.
                                </div>
                                This test class demonstrates how to resolve this problem.
                            </fieldset>
                        </fieldset>
                        <fieldset class="tree-node package">
                            <legend>org.babyfishdemo.foundation.equality</legend>
                            The test cases under this package demonstrate how to use org.babyfish.lang.Eauality.
                            The method "boolean Oject.equals(Object)" is hard to be implemented, 
                            there are 2 classic solutions to do it 
                            <ul>
                                <li>
                                    Classic solution1 which is too strict
                                    <div class="code">
                                        <pre><code>
public boolean equals(Object o) {
    if (o == null || o.getClass() != this.getClass()) {
        return false;
    }
    ... ...
}
                                             </code></pre>
                                    </div>
                                </li>
                                <li>
                                    Classic solution2 which is too lax
                                    <div class="code">
                                        <pre><code>
public boolean equals(Object o) {
    if (!(o instanceof &lt;&lt;ThisClass&gt;&gt;)) {
        return false;
    }
    ... ...
}
                                             </code></pre>
                                    </div>
                                </li>
                            </ul>
                            The demos under this package can indicate
                            what the problem of these two classic solutions is
                            and how to resolve it.
                        </fieldset>
                        <fieldset class="tree-node package">
                            <legend>org.babyfishdemo.foundation.traveler</legend>
                            The demos under this package shows how to use "org.babyfish.util.GraphTraveler&lt;T&gt;"
                            to travel on object graph, by both depth-first mode and breadth-first mode.
                            <fieldset class="tree-node file">
                                <legend>TreeTravelerTest.java</legend>
                                <fieldset class="tree-node method">
                                    <legend>testDepthFirst</legend>
                                    This test method demonstartes how to travel on tree by depth-first mode
                                </fieldset>
                                <fieldset class="tree-node method">
                                    <legend>testBreadthFirst</legend>
                                    This test method demonstartes how to travel on tree by breadth-first mode
                                </fieldset>
                                <fieldset class="tree-node method">
                                    <legend>testStopTravelNeighborNodes</legend>
                                    This test method demonstartes how to giveup the travel of sub-tree
                                </fieldset>
                                <fieldset class="tree-node method">
                                    <legend>testStopTravelSiblingNodes</legend>
                                    This test method demonstartes how to giveup the 
                                    travel of following tree nodes of current tree node
                                </fieldset>
                                <fieldset class="tree-node method">
                                    <legend>testStopTravel</legend>
                                    This test method demonstartes how to give up the travel of whole tree
                                </fieldset>
                                <fieldset class="tree-node method">
                                    <legend>testBadStopping</legend>
                                    This test method demonstartes the travel giveup behavior can only be used
                                    before travel the neighbors of current tree node; otherwise,
                                    "java.lang.UnsupportedOperationException" will be raised.
                                </fieldset>
                            </fieldset>
                            <fieldset class="tree-node file">
                                <legend>Style1GraphTravelTest.java</legend>
                                This package demonstrates how to travel on graph with circular references
                                by using a collection to retain the vistied nodes.
                            </fieldset>
                            <fieldset class="tree-node file">
                                <legend>Style2GraphTravelTest.java</legend>
                                This package demonstrates how to travel on graph with circular references
                                by checking the context id of each node and the context id of current
                                travel context.
                            </fieldset>
                        </fieldset>
                        <fieldset class="tree-node package">
                            <legend>org.babyfishdemo.foundation.typedi18n</legend>
                            In classic solution, you can do the I18N like this:
                            <ol>
                                <li>
                                    Create some resource files: such as 
                                    resourceName.properties, 
                                    resourceName_en.properties,
                                    resourceName_zh_CN.properties, 
                                    resourceName_fr_FR.properties.
                                </li>
                                <li>
                                    For each resource file, enter key-value pairs,
                                    the keys of each resource file that is used by code must be same.
                                    The value should be wroten by
                                    different natural languages. Optionally, value can contain
                                    some parameters such as {0}, {1}, {2} ...
                                </li>
                                <li>
                                    Use "java.util.ResourceBundle.getBundle" to create bundle instance
                                    to load the resource file by auto/mannual locale choosing, 
                                    then invoke the "getString" by using the keys declared in
                                    the resource files to be the parameter to get the I18N string.
                                    Optionally, the parameters of the I18N must be replaced.
                                </li>
                            </ol>
                            But, like script languages, the solution is a weak-type solution, 
                            it's not easy to avoid the spelling mistakes, for examples
                            <ul>
                                <li>The illegal resource name is specified when the "ResourceBundle.getBundle" is invoked</li>
                                <li>The illegal key is specified when the "ResourceBundle.getString" is invoked</li>
                                <li>
                                    Optionaly, when the parameters of I18N string is replaced by java code, it's not easy
                                    to guarantee the replacement count is same with the actual parameter count of
                                    the resource. 
                                </li>
                            </ul>
                            Worse still, there are so many weak-type dependencies so that the progam is very hard to be refactored.
                            <div>
                                The demos under this package will demonstrate how to resolves these problems.
                            </div>
                            <fieldset class="tree-node package">
                                <legend>org.babyfishdemo.foundation.typedi18n.generic</legend>
                                <fieldset class="tree-node file">
                                    <legend>ComplexDemoTest.java</legend>
                                    When Typed-I18N message is used for normal output, 
                                    "org.babyfish.util.Resources" which can load the resource immediately
                                    should be used.
                                    <div class="info">
                                        Under the folder "src/main/java", the class 
                                        "org.babyfishdemo.foundation.typedi18n.generic.ComplexDemo" depends on 
                                        the printing operations of "System.out" so that it's not easy to be tested.
                                        So, for test case, aspectj-loadweaver is used to change the behavior of 
                                        "System.out", 
                                        via
                                        <ul>
                                            <li>org.babyfishdemo.fundation.typedi18n.generic.ComplexDemoAspect under src/test/java</li>
                                            <li>META-INF/aop.xml</li>
                                            <li>The VM paremter "-javaagent" of "maven-surefire-plugin" in pom.xml</li>
                                        </ul> 
                                    </div>
                                </fieldset>
                            </fieldset>
                            <fieldset class="tree-node package">
                                <legend>org.babyfishdemo.foundation.typedi18n.lazy</legend>
                                <fieldset class="tree-node file">
                                    <legend>AnnualLeaveRequestTest.java</legend>
                                    When Typed-I18N message is used for exception output, 
                                    "org.babyfish.util.LazyResource" which does not load 
                                    the resouce after it's created until it's invoked at first time
                                    should be used, because exception message is unnecessary whenever.
                                </fieldset>
                            </fieldset>
                        </fieldset>
                    </fieldset>
                </fieldset>
                <fieldset class="tree-node project">
                    <legend>babyfishdemo-functiondation-wrong</legend>
                    Previous demo project demonstrate the Typed-I18N, but there are still 2 problems:
                    <ul>
                        <li>
                            Several resource file can be mapped to one resource name 
                            because of mutiple natural languages,
                            for example: Chinese resource file "MyResource_zh_CN.properties"
                            and franch resource file "MyResource_fr_FR.properties" have 
                            the same resource name "MyResource". If the natural language configuration
                            of current computer is Chinese, Type-I18N can only report the errors
                            of MyResource_zh_CN.properties, but it can't report the errors of
                            MyResource_fr_FR.properties.
                        </li>
                        <li>
                            If the program uses the Lazy typed-i18n loader class 
                            "org.babyfish.util.LazyResource", that means the errors should
                            only be report when the lazy resource is invoked at first time,
                            but for unit test, report any errors as early as possible is better.
                        </li>
                    </ul>
                    In order to resolve these problem, babyfish supports two java system properties
                    for unit test. Please view the xml element "&lt;systemPropertyVariables/&gt;"
                    of maven plugin "maven-surefire-plugin" in pom.xml to know more
                    <ul>
                        <li>
                            org.babyfish.util.Resources.LOAD_RESOURCE_LOCALE:
                            Specify locale list to let the unit test can report the errors
                            of all resource files.
                        </li>
                        <li>
                            org.babyfish.util.LazyResource.LOAD_LAZY_RESOURCE_IMMEDIATELY:
                            Let unit test ignore the laziness of "org.bayfish.util.LazyResource"
                            so that the resource errors can be report as soon as possible
                        </li>
                    </ul> 
                    So, finally, the unit test only need to load the tested class(by any way),
                    the errors of all typed-i18n resource files will be reported automatically
                    and it's unnecessary to write any test cases about I18N functionalities.
                </fieldset>
                <fieldset class="tree-node project">
                    <legend>babyfishdemo-xcollection</legend>
                    BabyFish supports X(Extension)-Collection Framework, it extends Java Collection Framework
                    and it's the base of MA-Collection. X-Collection supports some functionalities that
                    are not supported by Java Collection Framework.
                    <fieldset class="tree-node folder">
                        <legend>src/test/java</legend>
                        <fieldset class="tree-node package">
                            <legend>org.babyfishdemo.xcollection.e</legend>
                            Demonstrates "org.babyfish.collection.TreeMap&lt;K, V&gt;" 
                            has fixed a issue "of java.util.TreeMap&lt;K, V&gt;".
                            <div class="info">
                                There is another functionality which is not easy to shown
                                in this projects. "java.util.SortedSet&lt;E&gt;"(or 
                                "java.util.SortedMap&lt;K, V&gt;") can create view collections(maps)
                                by headSet(headMap), tailSet(tailMap) or subSet(subMap). 
                                Be different with "java.util.TreeSet&lt;E&gt;"(or "java.util.TreeMap&lt;K, V&gt;"),
                                the method "size()" of the view created by "org.babyfish.collection.TreeSet&lt;E&gt;"(
                                or "org.babyfish.collection.TreeMap&lt;K, V&gt;") is faster.
                            </div>
                        </fieldset>
                        <fieldset class="tree-node package">
                            <legend>org.babyfishdemo.xcollection.v</legend>
                            XCollection supports validator, it's impossible to add invalid elements into collection
                        </fieldset>
                        <fieldset class="tree-node package">
                            <legend>org.babyfishdemo.xcollection.lcv</legend>
                            java.util.List&lt;E&gt; does not reject any new elements because duplicated elements
                            are allowed for it,
                            but in order support ObjectModel, sometimes, java.util.List&lt;E&gt;
                            must reject adding some new elements into it.
                        </fieldset>
                        <fieldset class="tree-node package">
                            <legend>org.babyfishdemo.xcollection.mcv</legend>
                            java.util.Map&lt;K, V&gt; does not reject any new values because duplicate values
                            are allowed for it,
                            but in order support ObjectModel, sometimes, java.util.Map&lt;K, V&gt;
                            must reject adding some new values into it.
                            <fieldset class="tree-node file">
                                <legend>MapConflictVoterTest.java</legend>
                                Use the org.babyfish.collection.conflict.MapConflictVoter&lt;K, V&gt; which save space cost but waste time cost.
                            </fieldset>
                            <fieldset class="tree-node file">
                                <legend>MAMapConflictVoterTest.java</legend>
                                Use the org.babyfish.collection.conflict.MAMapConflictVoter&lt;K, V&gt; which save time cost but waste space cost.
                            </fieldset>
                            <div class="warning">
                                Be different with "org.babyfish.collection.conflict.MapConflictVoter&lt;K, V&gt;" which is stateless,
                                "org.babyfish.collection.conflict.MAConflictVoter&lt;K, V&gt;" is stateful so that it can't
                                be shared by several maps.
                            </div>
                        </fieldset>
                        <fieldset class="tree-node package">
                            <legend>org.babyfishdemo.xcollection.uce</legend>
                            Unstable collection elements, this is most important functionality of X-Collection.
                            <ul>
                                <li>
                                    Inherits the functionality of Java Collection Framwork, 
                                    TreeSet&lt;E&gt;(TreeMap&lt;K, V&gt;) can accept java.util.Comparator&lt;T&gt;
                                    and use the 3rd-party rule to arrange the memory structure, 
                                    not by using the method "compareTo" of the element(key) objects. 
                                </li>
                                <li>
                                    Inherits "System.Collections.Generic.IEqualityComparer&lt;T&gt;" of
                                    .NET Collection Framework, X-Collection supports "org.babyfish.collection.EqualityComparator&lt;T&gt;"
                                    and let HashSet&lt;E&gt;(HashMap&lt;K, V&gt;) use the 3rd-party rule to arrange the memory structure,
                                    not by the using the methods "hashCode" and "equals" of the element(key) objects.
                                </li>
                            </ul>
                            This is not enough, because java.util.Set&lt;E&gt;(java.util.Map&lt;K, V&gt;) requires 
                            the stable collection elements(keys),
                            that means each elements(keys) can't be changed after it has been added into set(map).
                            <div class="info">
                                X-Collection supports "Unstable Collection Elements":  
                                Each element(key) can be changed whenever even if it has been
                                added into set(map), because the memory structure of all the sets(maps)
                                that contain it will be adjusted automatically when it's changed.
                            </div>
                            In order to support Unstable Collection Elements, XCollection supports
                            2 sepcial comparators
                            <ul>
                                <li>
                                    org.babyfish.collection.FrozenComparator&lt;T&gt;(extends
                                    java.util.Comparator&lt;T&gt;)
                                </li>
                                <li>
                                    org.babyfish.collection.FrozenEqualityComparator&lt;T&gt;(extends
                                    org.babyfish.collection.EqualityComparator&lt;T&gt;)
                                </li>
                            </ul>
                        </fieldset>
                    </fieldset>
                </fieldset>
                <fieldset class="tree-node project">
                    <legend>babyfishdemo-macollection</legend>
                    BabyFish supports MA(Modification Aware)-Collection Framework, 
                    it extends X-Collection and it's the base of ObjectModel. 
                    MA-Collection supports event nofication, any modification of the collection
                    can raise an event, this functionality looks like the trigger of database.
                    <fieldset class="tree-node folder">
                        <legend>src/test/java</legend>
                        <fieldset class="tree-node package">
                            <legend>org.babyfishdemo.macollection.basic</legend>
                            This project demonstrate the basic event handler of MA-Collection.
                            <fieldset class="tree-node file">
                                <legend>ElementListenerTest.java</legend>
                                This test class demonstrates the event notification 
                                triggered by the modification of java.util.Collection&lt;E&gt;.
                            </fieldset>
                            <fieldset class="tree-node file">
                                <legend>ListElementListenerTest.java</legend>
                                This test class demonstrates the event notification 
                                triggered by the modification of java.util.List&lt;E&gt;.
                            </fieldset>
                            <fieldset class="tree-node file">
                                <legend>MapElementListenerTest.java</legend>
                                This test class demonstrates the event notification 
                                triggered by the modification of java.util.Map&lt;K, V&gt;.
                            </fieldset>
                            <fieldset class="tree-node file">
                                <legend>KeySetElementListenerTest.java</legend>
                                This test class demonstrates the event notification 
                                triggered by the modification of "keySet" of map.
                            </fieldset>
                            <fieldset class="tree-node file">
                                <legend>ValuesListenerTest.java</legend>
                                This test class demonstrates the event notification 
                                triggered by the modification of "values" of map.
                            </fieldset>
                            <fieldset class="tree-node file">
                                <legend>EntryElementListenerTest.java</legend>
                                This test class demonstrates the event notification 
                                triggered by the modification of java.util.Map.Entry&lt;K, V&gt;.
                            </fieldset>
                        </fieldset>
                        <fieldset class="tree-node package">
                            <legend>org.babyfishdemo.macollection.modification</legend>
                            Collection interface supports several methods to change its state,
                            when its changing event is triggered, the event object
                            supports a property "modification" to specify which method has
                            been invoked by the program and what parameters of this method are specified.
                        </fieldset>
                        <fieldset class="tree-node package">
                            <legend>org.babyfishdemo.macollection.unstable</legend>
                            MA-Collection inherits the functionality "Unstable Collection Elements"
                            from X-Collection. When an element(key) is changed, all the collections(maps)
                            that contain it will be adjust automatically, by removing it from those collections(maps)
                            before it's changed and adding it into the collections(maps) again after it's changed.
                            During this period, two changing events will be triggered for those adjusted collections(maps).
                            <fieldset class="tree-node file">
                                <legend>UnstableElementTest.java</legend>
                                This test case demonstrates the "Unstable Collection Elements" 
                                with event notifications.
                                <fieldset class="tree-node method">
                                    <legend>testOrderedSetBaseOnFirstName</legend>
                                    For "org.babyfish.collection.MAOrderedSet&lt;E&gt;",
                                    The order can't be changed by the automatical collection adjusting caused
                                    by "Unstable Collection Elements".
                                </fieldset>
                                <fieldset class="tree-node method">
                                    <legend>testNavigableSetBaseOnFirstName</legend>
                                    The order can be changed by the automatical collection adjusting caused
                                    by "Unstable Collection Elements".
                                </fieldset>
                            </fieldset>
                        </fieldset>
                        <fieldset class="tree-node package">
                            <legend>org.babyfishdemo.macollection.bubble</legend>
                            <p>
                                Many interfaces of Java Collection Framework supports view creating methods,
                                such as "java.util.List.subList(int, int)", "java.util.Map.keySet()",
                                "java.util.NavigableMap.subMap(K, boolean, K, boolean)", 
                                "java.util.Collection.iterator()", etc. Of course, it's possible to create deeper
                                view on view too.
                            </p>
                            <p>
                                MA-Collection supports "Bubble-Event", when a collection view is changed
                                by the programmer, first, an event will be triggered on this view, then
                                this event will be bubbled to its parent view and another event will be
                                triggered on the parent view, .... Finally, the event will be bubbled to
                                the root collection and a new event will be triggered on the root collection. 
                            </p>
                            <fieldset class="tree-node file">
                                <legend>SimpleBubbleEventTest.java</legend>
                                Demonstrates the simplest cases for "Bubble-Event"
                                <fieldset class="tree-node method">
                                    <legend>testBubbleEventWithEventTypeDifference</legend>
                                    Demonstrates the type of new bubbled event
                                    can be different with the type of original event.
                                </fieldset>
                                <fieldset class="tree-node method">
                                    <legend>testBubbleEventWithEventDataDifference</legend>
                                    Demonstrates the data of new bubbled event
                                    can be different with the data of original event.
                                </fieldset>
                            </fieldset>
                            <fieldset class="tree-node file">
                                <legend>ComplexBubbleEventWithUnstableViewTest.java</legend>
                                The most complex demo for MA-Collection Framework,
                                demonstrates the "Bubble-Event" and the "ListConflictVoter"
                                together.
                            </fieldset>
                        </fieldset>
                    </fieldset>
                </fieldset>
                <fieldset class="tree-node project">
                    <legend>babyfishdemo-collections</legend>
                    <fieldset class="tree-node folder">
                        <legend>src/test/java</legend>
                        <fieldset class="tree-node package">
                            <legend>org.babyfishdemo.collections</legend>
                            Like "java.util.Collections", BabyFish supports
                            "org.babyfish.collection.MACollections" that supports
                            some static util methods for X-Collection and MA-Collection.
                            <fieldset class="tree-node package">
                                <legend>org.babyfishdemo.collections</legend>
                                <fieldset class="tree-node file">
                                    <legend>ProxyTypeTest.java</legend>
                                    "MACollections" supports many static methods to create
                                    collection wrapper proxy for original collection, 
                                    all of these methods create the proxy by the runtime-type 
                                    of original collection, not by the compilation-time-type.
                                    For example, if there is variable "c" whose type is "java.util.Collection"
                                    but actually it points to an instanceof of "java.util.TreeMap",
                                    the returned value of "MACollections.unmodifiable(c)" 
                                    should be a proxy that implements "java.util.NavigableSet", not only
                                    implements "java.util.Collection".
                                    <fieldset class="tree-node method">
                                        <legend>testComparatorType</legend>
                                        Demonstrates how to create the proxy for "java.util.Comparator&lt;E&gt;"
                                        by its runtime-type.
                                        <div class="warning">
                                            It's very important to uses 
                                            "org.babyfish.collection.MACollections.reversedOrder(java.util.Comparator)",
                                            don't use "java.util.Collections.reversedOrder(java.util.Compartor)", because
                                            <ul>
                                                <li>
                                                    Babyfish supports "org.babyfish.collection.FrozenComparator&lt;T&gt;" that
                                                    inherits "java.util.Comparator&lt;E&gt;" to support the functionality
                                                    "Unstable collection elements". 
                                                    "java.util.Collections.reversedOrder(java.util.Comparator&lt;E&gt;)"
                                                    can't create proxy that implements "FrozenComparator".
                                                </li>
                                                <li>
                                                    In order to make "Comparator&lt;T&gt;"(or "FrozenComparator&lt;E&gt;")
                                                    can be converted to "EqualityComparator&lt;T&gt;"(or "FrozenEqualityComparator&lt;T&gt;"),
                                                    programmer can write a class that implements both "Comparator&lt;E&gt;" and 
                                                    "org.babyfish.collection.HashCalculator".
                                                    "java.util.Collections.reversedOrder(java.util.Comparator&lt;E&gt;)"
                                                    can't create proxy that implements "HashCalculator".
                                                </li>
                                            </ul>
                                        </div>
                                    </fieldset>
                                    <fieldset class="tree-node method">
                                        <legend>testCollectionType</legend>
                                        Demonstrates how to create the proxy for "java.util.Collection&lt;E&gt;"
                                        by its runtime-type.
                                    </fieldset>
                                    <fieldset class="tree-node method">
                                        <legend>testMapType</legend>
                                        Demonstrates how to create the proxy for "java.util.Map&lt;K, V&gt;"
                                        by its runtime-type.
                                    </fieldset>
                                    <fieldset class="tree-node method">
                                        <legend>testIteratorType</legend>
                                        Demonstrates how to create the proxy for "java.util.Iterator&lt;E&gt;"
                                        by its runtime-type.
                                    </fieldset>
                                    <fieldset class="tree-node method">
                                        <legend>testEntryType</legend>
                                        Demonstrates how to create the proxy for "java.util.Map.Entry&lt;K, V&gt;"
                                        by its runtime-type.
                                    </fieldset>
                                </fieldset>
                                <fieldset class="tree-node file">
                                    <legend>NonFairLockSupportingTest.java</legend>
                                    <p>
                                        Like "java.util.Collections.synchronized...()", "MACollections" 
                                        supports some static methods to create thread-safe wrapper proxy for
                                        non-thread-safe collection.
                                    </p>
                                    <p>
                                        "MACollections.locked(...)" dose not use the java "synchronized",
                                        it returns the thread-safe proxy base on non-fair lock
                                        "java.util.concurrent.locks.ReadWriteLock", so that the readonly
                                        methods of the returned proxy only acquires the read lock.
                                    </p>
                                    <div class="warning">
                                        In order to support non-fair lock, the original collection must
                                        implement "org.babyfish.lang.LockDescriptor" and let its method
                                        "isNonFairLockSupported()" return true if it's possible.
                                        Otherwise, that means the original collection does not support
                                        non-fair lock and "MACollections.locked(...)" returns an proxy
                                        with methods that only acquires write lock.
                                    </div>
                                </fieldset>
                                <fieldset class="tree-node file">
                                    <legend>OptimizationTest.java</legend>
                                    Demonstrates the optimization behaviors of MACollections.
                                    <fieldset class="tree-node method">
                                        <legend>testIgnoreDuplicateUnmodifiableProxies</legend>
                                        Demonstrates how to ignore the duplicated invocations
                                        of "MACollections.unmodifable(...)"
                                    </fieldset>
                                    <fieldset class="tree-node method">
                                        <legend>testIgnoreDuplicateLockedProxies</legend>
                                        Demonstrates how to ignore the duplicated invocations
                                        of "MACollections.locked(...)"
                                    </fieldset>
                                    <fieldset class="tree-node method">
                                        <legend>testIgnoreDuplicateMixedProxies</legend>
                                        Demonstrates how to ignore the duplicated invocations
                                        of both "MACollections.unmodifable(...)" and 
                                        "MACollections.locked(...)"
                                    </fieldset>
                                    <fieldset class="tree-node method">
                                        <legend>testGatewayPriority</legend>
                                        Demonstrate that the unmodifiable proxy has the highest
                                        priority, unmodifiable proxy always wraps the thread-safe
                                        wrapper so that it's impossible to throw the exception that
                                        describes the collection is readonly after acquired the lock.
                                    </fieldset>
                                </fieldset>
                                <fieldset class="tree-node file">
                                    <legend>LockPropagationTest.java</legend>
                                    <p>
                                        Sometimes, the lock scope of thread-safe collection is too small,
                                        For example, "java.util.Collections.synchronized...(...)" can return
                                        thread-safe wrapper but the iterator of the wrapper is not thread-safe, 
                                        it requires the programmer to mannually acquire the lock to protect
                                        the loop of iterator, but this work is easily to be forgot.
                                    </p>
                                    <p>
                                        In order to resolve this problem, BabyFish supports "Lock-Propagation".
                                        For thread-safe proxy, it allows the programmer to enlarge the lock scope.
                                    </p>
                                    <div class="warning">
                                        Be different with "java.util.Collections.sysnchronized...(...)" that
                                        returns a thread-safe proxy whose iterator must be protected by the
                                        programmer manually. "org.babyfish.collection.MACollections.locked(...)"
                                        returns a thread-safe proxy whose "iterator()" throws an exception
                                        to tell the user the iterator of locked proxy can only be used in
                                        the "MACollections.locking(...)".
                                    </div>
                                </fieldset>
                                <fieldset class="tree-node file">
                                    <legend>PrimitiveListTest.java</legend>
                                    Demonstrates how to wrap the primitive array to list.
                                    <p>
                                        In java language, the generic type parameter can not be primitive,
                                        so that "java.util.List&lt;Ineger&gt;" is valid but "java.util.List&lt;int&gt;"
                                        is invalid. In classic solutions, we have to translate "int[]" to "Integer[]"
                                        and then use "java.util.Arrays.asList". All the "int" is translated to
                                        "Integer" objects, If some of those objects are moved to old generation(or region)
                                        of GC heap, that is not friendly for GC. 
                                    </p>
                                    <p>
                                        Babyfish supports "MACollections.wrap(...)" that can wrap the primitive array
                                        to collection directly, the collectionn does not translate "int" to "Integer" and
                                        it retains the primitive array. Finally, those "int" elements will be translated to 
                                        "Integer" objects when programmer use iterator to visit them. It is not bad becuse
                                        those objects are created in the youngest generation(or region) of GC heap and are 
                                        collected very fast if they are lost soon.
                                    </p>
                                </fieldset>
                                <fieldset class="tree-node file">
                                    <legend>EntrySetProtectionTest.java</legend>
                                    Demonstrate the method "setValue" of java.util.Map.Entry&lt;K, V&gt; 
                                    can be forbidden if the entry set is created by
                                    "MACollections.undifiable(map.entrySet());"
                                    (Classic solution can only do this by "Collections.unmodifiableMap(map).entrySet()")
                                </fieldset>
                            </fieldset>
                        </fieldset>
                    </fieldset>
                </fieldset>
                <fieldset class="tree-node project">
                    <legend>babyfishdemo-om4java</legend>
                    <p>
                        ObjectModel is the core functionality of BabyFish,
                        it can be splitted to 2 parts: ObjectModel4Java and ObjectModel4JPA.
                        This project demonstrates ObjectModel4Java.
                    </p>
                    <p>
                        ObjectModel4Java is used to create these 3 bidirectional assocations
                    </p>
                    <ul>
                        <li>one-to-one</li>
                        <li>one-to-many&amp;many-to-one</li>
                        <li>many-to-may</li>
                    </ul>
                    <p>
                        In ObjectModel4Java, most associations should be bidirectional.
                        When the program changes the any side of a bidirectional assocation, 
                        the other side of the bidirectional association can be changed
                        correspondingly, automatically and implicitly. Each side
                        can trigger modification event to notify the other side. 
                    </p>
                    <fieldset class="tree-node folder">
                        <legend>src/test/java</legend>
                        <fieldset class="tree-node package">
                            <legend>org.babyfishdemo.om4java.r2r</legend>
                            Demonstrates how to create bidirectional "one-to-one" association
                            by "org.babyfish.reference.Reference&lt;T&gt;" and "org.babyfish.reference.Reference&lt;T&gt;"
                        </fieldset>
                        <fieldset class="tree-node package">
                            <legend>org.babyfishdemo.om4java.s2r</legend>
                            Demonstrates how to create bidirectional "one-to-many/many-to-one" association
                            by "java.util.Set&lt;E&gt;" and "org.babyfish.reference.Reference&lt;T&gt;".
                        </fieldset>
                        <fieldset class="tree-node package">
                            <legend>org.babyfishdemo.om4java.l2r</legend>
                            Demonstrates how to create bidirectional "one-to-many/many-to-one" association
                            by "java.util.List&lt;E&gt;" and "org.babyfish.reference.Reference&lt;T&gt;".
                        </fieldset>
                        <fieldset class="tree-node package">
                            <legend>org.babyfishdemo.om4java.l2ir</legend>
                            Demonstrates how to create bidirectional "one-to-many/many-to-one" association
                            by "java.util.List&lt;E&gt;" and "org.babyfish.reference.IndexedReference&lt;T&gt;".
                            <div class="info">
                                List-IndexedReference is the most powerful association of ObjectModel.
                            </div>
                        </fieldset>
                        <fieldset class="tree-node package">
                            <legend>org.babyfishdemo.om4java.m2kr</legend>
                            Demonstrates how to create bidirectional "one-to-many/many-to-one" association
                            by "java.util.Map&lt;K, V&gt;" and "org.babyfish.reference.KeyedReference&lt;K, T&gt;".
                        </fieldset>
                        <fieldset class="tree-node package">
                            <legend>org.babyfishdemo.om4java.m2r</legend>
                            Demonstrates how to create bidirectional "one-to-many/many-to-one" association
                            by "java.util.Map&lt;K, V&gt;" and "org.babyfish.reference.Reference&lt;T&gt;".
                        </fieldset>
                        <fieldset class="tree-node package">
                            <legend>org.babyfishdemo.om4java.s2s</legend>
                            Demonstrates how to create bidirectional "many-to-many" association
                            by "java.util.Set&lt;E&gt;" and "java.util.Set&ltE&gt;".
                        </fieldset>
                        <fieldset class="tree-node package">
                            <legend>org.babyfishdemo.om4java.l2s</legend>
                            Demonstrates how to create bidirectional "many-to-many" association
                            by "java.util.List&lt;E&gt;" and "java.util.Set&ltE&gt;".
                        </fieldset>
                        <fieldset class="tree-node package">
                            <legend>org.babyfishdemo.om4java.m2s</legend>
                            Demonstrates how to create bidirectional "many-to-many" association
                            by "java.util.Map&lt;K, V&gt;" and "java.util.Set&ltE&gt;".
                        </fieldset>
                        <fieldset class="tree-node package">
                            <legend>org.babyfishdemo.om4java.fec</legend>
                            Demonstrates how to create bidirectional "one-to-many/many-to-one" association
                            by "java.util.Set&lt;E&gt;" with 
                            specified "org.babyfish.collection.FrozenEqualityComparator&lt;E&gt;" 
                            and 
                            "org.babyfish.reference.Reference&ltE&gt;".
                            <div class="info">
                                The method "getEmployees()" of the ObjectModel interface "OM" declared in the class
                                "org.babyfishdemo.om4java.fec.Department" is marked by the annotation
                                "@org.babyfish.model.metadata.ReferenceComparisonRule" 
                                with parameter "firstName, lastName".
                            </div>
                        </fieldset>
                        <fieldset class="tree-node package">
                            <legend>org.babyfishdemo.om4java.fc</legend>
                            Demonstrates how to create bidirectional "one-to-many/many-to-one" association
                            by "java.util.NavigableSet&lt;E&gt;" with 
                            specified "org.babyfish.collection.FrozenComparator&lt;E&gt;" 
                            and 
                            "org.babyfish.reference.Reference&ltE&gt;".
                            <div class="info">
                                The method "getEmployees()" of the ObjectModel interface "OM" declared in the class
                                "org.babyfishdemo.om4java.fc.Department" is marked by the annotation
                                "@org.babyfish.model.metadata.ReferenceComparisonRule" 
                                with parameter "firstName, lastName".
                            </div>
                        </fieldset>
                        <fieldset class="tree-node package">
                            <legend>org.babyfishdemo.om4java.embeddable</legend>
                            Demonstrates how to use ObjectModel4Java to declare embeddable class.
                            Embededable class can be used to declare scalar properties of other
                            model class and its property change event can be bubbled to the root 
                            model object.
                        </fieldset>
                        <fieldset class="tree-node package">
                            <legend>org.babyfishdemo.om4java.contravariance</legend>
                            <p>
                                The C# language supports a powerful functionality "contravariance" from 4.0,
                                this functionality is learned by ObjectModel4Java.
                            </p>
                            <p>
                                If A is supper class and B is derived class that extends A,
                                the casting from java.util.List&lt;A&gt; to "java.util.List&lt;B&gt;"
                                is called "Contravariance"
                            </p>
                            <p>
                                This package demonstrates how to use the contravarianced type to override
                                the assocation property of super model interface in derived model interface.
                            </p>
                        </fieldset>
                    </fieldset>
                </fieldset>
                <fieldset class="tree-node project">
                    <legend>
                        <span class="comprehensive">
                            <!--id for HTML5, name for HTML4-->
                            <a id="babyfishdemo-om4java-dom" name="babyfishdemo-om4java-dom">babyfishdemo-om4java-dom</a>
                        </span>
                    </legend>
                    <p>
                        <span class="comprehensive">This is comprehensive demo for ObjectModel4Java</span>,
                        it demonstrates how to use ObjectModel4Java to create a library to support
                        the XML DOM(Document Object Model) quickly.
                    </p>
                    <fieldset class="tree-node folder">
                        <legend>src/test/java</legend>
                        <fieldset class="tree-node package">
                            <legend>org.babyfishdemo.om4java.dom</legend>
                            <fieldset class="tree-node file">
                                <legend>CreationTest.java</legend>
                                <fieldset class="tree-node method">
                                    <legend>testCreateByAddChildToParent</legend>
                                    Demonstrates create the XML DOM tree by adding
                                    child object(Element, Attribute, Text or Comment)
                                    into the children list of parent object
                                    (Element). Correspondingly, the properties such as
                                    "parent", "index" of child object will be assigned 
                                    automatically and implicitly.
                                </fieldset>
                                <fieldset class="tree-node method">
                                    <legend>testCreateBySetParentToChild</legend>
                                    Demonstrates create the XML DOM tree by assigning
                                    the parent object(Element) to the property "parent"
                                    of child object(Element, Attribute, Text or Comment).
                                    Correspondingly, the child object will be added into the children
                                    collection of parent object automatically and implicitly.
                                </fieldset>
                            </fieldset>
                            <fieldset class="tree-node file">
                                <legend>ChangingChildNodeTest.java</legend>
                                <fieldset class="tree-node method">
                                    <legend>testChangeChildNodeOrderByParent</legend>
                                    Demonstrates add the child objects(Element, Comment)
                                    into parent object(Element) again when they are already
                                    child objects of child object
                                    <ul>
                                        <li>
                                            The children list of parent object will not contain duplicated elements,
                                            but the list order will be changed.
                                        </li>
                                        <li>
                                            The property "index" of some child objects will be changed 
                                            automatically and implicitly.
                                        </li>
                                    </ul>
                                </fieldset>
                                <fieldset class="tree-node method">
                                    <legend>testChangeChildNodeOrderByChild</legend>
                                    Demonstrates change the property "index" of some child objects(Element or Comment)
                                    <ul>
                                        <li>
                                            The order of children list of their parent object will be changed
                                            automatically and implicitly.
                                        </li>
                                        <li>
                                            The property "index" of other child objects will be changed
                                            automatically and implicitly.
                                        </li>
                                    </ul>
                                </fieldset>
                                <fieldset class="tree-node method">
                                    <legend>removeChildByParentIterator</legend>
                                    Demonstrates use the java.util.Iterator&lt;E&gt; to visit and remove 
                                    some child objects(Comment) of parent object.
                                    <ul>
                                        <li>
                                            For removed child objects(Comment), 
                                            property "parent" will be assigned to null
                                            and property "index" will be assigned to be -1 automatically and implicitly.
                                        </li>
                                        <li>
                                            For other surviving child objects(Element), 
                                            The property "index"
                                            will be changed automatically and implicitly.
                                        </li>
                                    </ul>
                                </fieldset>
                                <fieldset class="tree-node method">
                                    <legend>removeChildByParentSubListIterator</legend>
                                    Similar to the previous test method, but this time use the iterator
                                    of subList, so that not all comments are deleted.
                                </fieldset>
                                <fieldset class="tree-node method">
                                    <legend>removeChildByChild</legend>
                                    Demonstrates remove some child objects(Comment) from their parent object
                                    by assigning the property "parent" to be null or assigning the property 
                                    "index" to be -1.
                                    <ul>
                                        <li>
                                            Some elements of the children list of parent object will be removed
                                            automatically and implicitly.
                                        </li>
                                        <li> The property "index" or "parent" of one object influence each other 
                                            <ul>
                                                <li>
                                                    If set the property "index" to -1, 
                                                    the property "parent" of the same object will become null
                                                    automatically and implicitly.
                                                </li>
                                                <li>
                                                    If set the property "parent" to null, 
                                                    the property "index" of the same object will become -1
                                                    automatically and implicitly.
                                                </li>
                                            </ul>
                                        </li>
                                        <li>
                                            The property "index" of other child will be changed
                                            automatically and implicitly.
                                        </li>
                                    </ul>
                                </fieldset>
                            </fieldset>
                            <fieldset class="tree-node file">
                                <legend>MovingChildBetweenDifferntParentsTest.java</legend>
                                <fieldset class="tree-node method">
                                    <legend>testMoveScriptByChangingParent</legend>
                                    After test setup, the element "&lt;script/&gt;"
                                    is declared under the parent element "&lt;body&gt;".
                                    This test method demonstrates add the "&lt;script/&gt;" 
                                    into the children list of "&lt;head/&gt;".
                                    <ul>
                                        <li>
                                            The "&lt;script/&gt;" will be removed from
                                            the children list of old parent "&lt;body/&gt;"
                                            automatically and implicitly.
                                        </li>
                                        <li>
                                            The property "parent" of the "&lt;script/&gt;"
                                            will be changed to the new parent "&lt;head/&gt;"
                                            automatically and implicitly.
                                        </li>
                                        <li>
                                            Before moving, the property "index" of the next slibing 
                                            "&lt;div/&gt;" of the "&lt;script/&gt;" is 1,
                                            after moving, its property "index" will be assigned to be 0
                                            automatically and implicitly..
                                        </li>
                                    </ul>
                                </fieldset>
                                <fieldset class="tree-node method">
                                    <legend>testMoveScriptByChaningItself</legend>
                                    After test setup, the element "&lt;script/&gt;"
                                    is declared under the parent element "&lt;body&gt;".
                                    This test method demonstrates set the property "parent"
                                    of "&lt;script/&gt;" to be "&lt;head/&gt;".
                                    <ul>
                                        <li>
                                            The "&lt;script/&gt;" will be removed from
                                            the children list of old parent "&lt;body/&gt;"
                                            automatically and implicitly.
                                        </li>
                                        <li>
                                            The "&lt;script/&gt;" will be added into
                                            the children list of new parent "&lt;head/&gt;"
                                            automatically and implicitly.
                                        </li>
                                        <li>
                                            Before moving, the property "index" of the next slibing 
                                            "&lt;div/&gt;" of the "&lt;script/&gt;" is 1,
                                            after moving, its property "index" will be assigned to be 0
                                            automatically and implicitly..
                                        </li>
                                    </ul>
                                </fieldset>
                                <fieldset class="tree-node method">
                                    <legend>testMoveNgInitByChangingParent</legend>
                                    After test setup, the attribute "ng-init=..."
                                    is declared on the parent element  "&lt;div&gt;".
                                    This test method demonstrates add the attribute "ng-init=..."
                                    into the children map of "&lt;body&gt;".
                                    <ul>
                                        <li>
                                            The attribute "ng-init..." will be removed from
                                            the children map of old parent "&lt;div/&gt;"
                                            automatically and implicitly.
                                        </li>
                                        <li>
                                            The property "parent" of the attribute "ng-init=..." 
                                            will be changed to the new parent "&lt;body/&gt;"
                                            automatically and implicitly.
                                        </li>
                                    </ul>
                                </fieldset>
                                <fieldset class="tree-node method">
                                    <legend>testMoveNgInitByChangingItself</legend>
                                    After test setup, the attribute "ng-init=..."
                                    is declared on the parent element  "&lt;div&gt;".
                                    This test method demonstrates set the property "parent" 
                                    of the attribute "ng-init=..." to be "&lt;body&gt;".
                                    <ul>
                                        <li>
                                            The attribute "ng-init..." will be removed from
                                            the children map of old parent "&lt;div/&gt;"
                                            automatically and implicitly.
                                        </li>
                                        <li>
                                            The attribute "ng-init..." will be added into
                                            the children map of new parent "&lt;body/&gt;"
                                            automatically and implicitly.
                                        </li>
                                    </ul>
                                </fieldset>
                            </fieldset>
                            <fieldset class="tree-node file">
                                <legend>ChangingAttributeTest.java</legend>
                                <fieldset class="tree-node method">
                                    <legend>testRemoveAttributesByMapKeySetViewIterator</legend>
                                    For each Element, get the "keySet" view of attribute map,
                                    use java.util.Iterator&lt;E&gt; to visit each attribute 
                                    quantified name of this "keySet" view,
                                    and remove the current attribute quanified name 
                                    if its local name starts with "ng-".
                                    <ul>
                                        <li>
                                            The property "parent" of all the attributes whoes 
                                            local name start with "ng-" has been set to be null
                                            automatically and implicitly.
                                        </li>
                                    </ul>
                                </fieldset>
                                <fieldset class="tree-node method">
                                    <legend>testRemoveAttributesByMapValuesViewIterator</legend>
                                    For each Element, get the "values" view of attribute map,
                                    use java.util.Iterator&lt;E&gt; to visit each attribute
                                    of this "values" view, and remove the current attribute 
                                    if its local name starts with "data-" and ends with even number.
                                    <ul>
                                        <li>
                                            The property "parent" of all the attributes whoes 
                                            local name start with "data-" and end with even number
                                            has been set to be null automatically and implicitly.
                                        </li>
                                    </ul>
                                </fieldset>
                            </fieldset>
                            <fieldset class="tree-node file">
                                <legend>UnstableMapKeyTest.java</legend>
                                <fieldset class="tree-node method">
                                    <legend>testChangeKeyToNewData</legend>
                                    Demonstrates change the property "localName" or "namespaceURI" 
                                    of property "quanfiedName" of Attribute.
                                    <ul>
                                        <li>
                                            In the map property "attributes" of the parent Element,
                                            The key for this attribute will be changed 
                                            automactially and implicitly.
                                        </li>
                                    </ul>
                                </fieldset>
                                <fieldset class="tree-node method">
                                    <legend>testChangeKeyToConflictData</legend>
                                    Demonstrates change the property "quanfiedName" of Attribute
                                    to make the new "quanifiedName" is conflict with another Attribute
                                    of the same parent Element.
                                    <ul>
                                        <li>
                                            In the map property "attributes" of the parent element,
                                            The key for this attribute will be changed 
                                            automactially and implicitly.
                                        </li>
                                        <li>
                                            Another attribute whose "quanifiedName" is conflict with
                                            the new "quanifiedName" of the modified attribute will
                                            be removed from this map property "attributes" of parent element
                                            automactially and implicitly.
                                        </li>
                                        <li>
                                            The property "parent" of the removed attribute will
                                            be set to null automactially and implicitly.
                                        </li>
                                    </ul>
                                </fieldset>
                            </fieldset>
                            <fieldset class="tree-node file">
                                <legend>ValidatorTest.java</legend>
                                <fieldset class="tree-node method">
                                    <legend>testValidatorOfNodeOMChildNodes</legend>
                                    Demonstrate can not add "org.babyfishdemo.om4java.dom.Attribute" 
                                    into the children list of of "org.babyfishdemo.om4java.dom.Element"
                                    because the child node of "org.babyfishdemo.om4java.dom.Element" 
                                    can only be "org.babyfishdemo.om4java.dom.Element", 
                                    "org.babyfishdemo.om4java.dom.Text" or "org.babyfishdemo.om4java.dom.Comment".
                                </fieldset>
                                <fieldset class="tree-node method">
                                    <legend>testValidatorOfNodeOMParentReference</legend>
                                    Use the ObjectModel4Java reflection API to get the instance of
                                    private ObjectModel interface "org.babyfishdemo.om4java.dom.Node.OM"
                                    of an "Attribute" object, then demonstrates its "parentReference"
                                    can not be set to be "Element".
                                    <div class="info">
                                        The parent of "org.babyfishdemo.om4java.dom.Attribute" is retained
                                        by the "parentReference" of another ObjectModel interface
                                        "org.babyfishdemo.om4java.dom.Attribute.OM.parentReference",
                                        not "org.babyfishdemo.om4java.dom.Node.OM.parentReference"
                                    </div>
                                </fieldset>
                            </fieldset>
                        </fieldset>
                    </fieldset>
                </fieldset>
            </fieldset>
            <fieldset class="tree-node category">
                <legend>Demos for JPA</legend>
                <div class="info">
                    For all the demo projects for JPA under this tree node,
                    suggest to use java decompilation tool to decompile byte-code
                    of entity classes, to see what has been done by BabyFish.
                </div>
                <fieldset class="tree-node project">
                    <legend>babyfishdemo-om4jpa</legend>
                    <fieldset class="tree-node folder">
                        <legend>src/test/java</legend>
                        <fieldset class="tree-node package">
                            <legend>org.babyfishdemo.om4jpa.instrument</legend>
                            <p>
                                ObjectModel4JPA uses compilation-time bytecode instrument
                                of maven plugin to generate the ObjectModel4JPA annotations
                                via the JPA annotations. The users must
                            </p>
                            <ul>
                                <li>
                                    Add the annotation "@org.babyfish.persistence.instrument.JPAObjectModelInstrument"
                                    to the JPA entity classes that has been marked by the JPA annotation
                                    "@javax.persistence.Entity", "@javax.persistence.Embeddable" or 
                                    "@javax.persistence.MappedSuperClass".
                                </li>
                                <li>
                                    Add this maven plugin into the pom.xml of entity classes project.
                                    <div class="code">
                                        <pre><code>
&lt;plugin&gt;
    &lt;artifactId&gt;maven-antrun-plugin&lt;/artifactId&gt;
    &lt;executions&gt;
        &lt;execution&gt;
        &lt;phase&gt;process-classes&lt;/phase&gt;
        &lt;goals&gt;
            &lt;goal&gt;run&lt;/goal&gt;
        &lt;/goals&gt;
        &lt;/execution&gt;
    &lt;/executions&gt;
    &lt;dependencies&gt;
        &lt;dependency&gt;
        &lt;groupId&gt;org.babyfish&lt;/groupId&gt;
        &lt;artifactId&gt;babyfish-hibernate-tool&lt;/artifactId&gt;
        &lt;version&gt;${babyfish.version}&lt;/version&gt;
        &lt;/dependency&gt;
    &lt;/dependencies&gt;
    &lt;configuration&gt;
        &lt;tasks&gt;
        <span class="comment">
        &lt;!--
            Note: This is "org.babyfish.hibernate.tool.InstrumentTask", 
            not "org.hibernate.tool.instrument.javassist.InstrumentTask"
        --&gt;
        </span>
        &lt;taskdef name="instrument" classname="org.babyfish.hibernate.tool.InstrumentTask"&gt;
            &lt;classpath&gt;
            &lt;path refid="maven.runtime.classpath" /&gt;
            &lt;path refid="maven.plugin.classpath" /&gt;
            &lt;/classpath&gt;
        &lt;/taskdef&gt;
        &lt;instrument&gt;
            &lt;fileset dir="${project.build.outputDirectory}"&gt;
            <span class="comment">
            &lt;--
                Be different with this demo, in the real project, the entity classes may be under 
                a special package(for example, under "**/entities"). so this xml element can be replaced to
                &lt;include name="**/entities/*.class"/&gt;
            --&gt;
            </span>
            &lt;include name="**/*.class" /&gt;
            &lt;/fileset&gt;
        &lt;/instrument&gt;
        &lt;/tasks&gt;
    &lt;/configuration&gt;
    &lt;/plugin&gt;
                                        </code></pre>
                                    </div>
                                </li>
                            </ul>
                            <div class="info">
                                <ul>
                                    <li>
                                        ObjectModel4JPA supports the same functionalities as ObjectModel4Java
                                        that has been demonstrated by previous two demo projects.
                                        So it's unnecessary to demonstrate those functionalities again,
                                        this package only demonstrate how to use the maven plugin(ant task)
                                        of babyfish to modify the bytecode of JPA entity classes at compilation-time.
                                    </li>
                                    <li>
                                        Actually, ObjectModel4JPA is more complex than ObjectMode4Java, because
                                        <ul>
                                            <li>For ObjectModel4Java, all the objects are retained in memory.</li>
                                            <li>
                                                For ObjectModel4JPA, not all the objects are retained in memory
                                                because JPA(Hibernate) supports lazy associations, the lazy 
                                                collection(proxy) load its object(s) when it's used at first time.
                                            </li>
                                        </ul>
                                        It's a bad idea to always load the objects when the lazy associations 
                                        is modified because
                                        <ul>
                                            <li>
                                                If the Hibernate session of lazy association is disconnected, 
                                                the loading will be failed with an exception.
                                            </li>
                                            <li>
                                                Always load the objects from database will cause huge performance issues.
                                            </li>
                                        </ul>
                                        So ObjectModel4JPA supports a complex mechanism to support the functionalities of
                                        ObjectModel by as little data loading as possible. As an user, it's unnecessary
                                        to known all the detail, so this complex mehanism is not demonstrated. Only three 
                                        points must be known
                                        <ul>
                                            <li>
                                                For lazy collection association, java.util.Collection&lt;E&gt; and
                                                java.uitl.Set&lt;E&gt; have the fastest performance, because
                                                they support "Lazy modification", even "Dummy modification",
                                                they will not load data, even not send tiny SQL to check the existence
                                                of added/removed element, when the lazy collection is 
                                                modified.
                                            </li>
                                            <li>
                                                For lazy collection association, java.util.Map&lt;K, V&gt; has
                                                the middle performance, because the "removing by key" operation
                                                of it supports "Lazy modification", even "Dummy modification",
                                                it will not load data, even not send tiny SQL to check the
                                                existence of removed key when the lazy map is modified by removing key(s). 
                                                But for other modifications, it will load the data from database immediately.
                                            </li>
                                            <li>
                                                For lazy collection associations, java.util.List&lt;E&gt; has
                                                the lowest performance, because it always load data from database
                                                when it's modification by any reason.
                                            </li>
                                        </ul>
                                    </li>
                                </ul>
                            </div>
                            <fieldset class="tree-node package">
                                <legend>org.babyfishdemo.om4jpa.instrument.s2r</legend>
                                Demonstrates how to use the "java.util.Set&lt;E&gt;" with the annotation
                                "@javax.persistence.OneToMany" and the Any Entity Type with the
                                annotation "@javax.persistence.ManyToOne" to generate
                                the ObjectModel4JPA with the association that's composed of
                                "java.util.Set&lt;E&gt;" and "org.babyfish.reference.Reference&lt;T&gt;".
                                <div class="info">
                                    <ul>
                                        <li>
                                            Not only "java.util.Set&lt;E&gt;",
                                            "java.util.Collection&lt;E&gt;" can be used too.
                                        </li>
                                        <li>
                                            Collection side must be inversed side,
                                            please specify the arugment "mappedBy" of "@javax.persistence.OneToMany".
                                        </li>
                                    </ul>
                                </div>
                            </fieldset>
                            <fieldset class="tree-node package">
                                <legend>org.babyfishdemo.om4jpa.instrument.l2r</legend>
                                Demonstrates how to use the "java.util.List&lt;E&gt;" with the annotation
                                "@javax.persistence.OneToMany" and the Any Entity Type with the
                                annotation "@javax.persistence.ManyToOne" to generate
                                the ObjectModel4JPA with the association that's composed of
                                "java.util.List&lt;E&gt;" and "org.babyfish.reference.Reference&lt;T&gt;".
                                <div class="info">
                                    <ul>
                                        <li>
                                            Reference side must be inversed side, please specify the arguments 
                                            "insertable" and "updatable" of the annotation 
                                            "@javax.persistence.JoinColumn" which is used with
                                            "@javax.persistence.ManyToOne" together to be false.
                                        </li>
                                    </ul>
                                </div>
                            </fieldset>
                            <fieldset class="tree-node package">
                                <legend>org.babyfishdemo.om4jpa.instrument.l2ir</legend>
                                Demonstrates how to use the "java.util.List&lt;E&gt;" with the annotation
                                "@javax.persistence.OneToMany" and the Any Entity Type with the
                                annotation "@javax.persistence.ManyToOne" to generate
                                the ObjectModel4JPA with the association that's composed of
                                "java.util.List&lt;E&gt;" and "org.babyfish.reference.IndexedReference&lt;T&gt;".
                                <div class="info">
                                    <ul>
                                        <li>
                                            Collection side must be inversed side,
                                            please specify the arugment "mappedBy" of "@javax.persistence.OneToMany".
                                        </li>
                                    </ul>
                                </div>
                            </fieldset>
                            <fieldset class="tree-node package">
                                <legend>org.babyfishdemo.om4jpa.instrument.m2r</legend>
                                Demonstrates how to use the "java.util.Map&lt;K, V&gt;" with the annotation
                                "@javax.persistence.OneToMany" and the Any Entity Type with the
                                annotation "@javax.persistence.ManyToOne" to generate
                                the ObjectModel4JPA with the association that's composed of
                                "java.util.Map&lt;K, V&gt;" and "org.babyfish.reference.Reference&lt;T&gt;".
                                <div class="info">
                                    <ul>
                                        <li>
                                            Reference side must be inversed side, please specify the arguments 
                                            "insertable" and "updatable" of the annotation 
                                            "@javax.persistence.JoinColumn" which is used with
                                            "@javax.persistence.ManyToOne" together to be false.
                                        </li>
                                    </ul>
                                </div>
                                <div class="warning">
                                    In runtime, the reference side can only be used to remove associations;
                                    Only the map side can be used to create the associations. If this rule
                                    is broken, exception will be raised.
                                </div>
                            </fieldset>
                            <fieldset class="tree-node package">
                                <legend>org.babyfishdemo.om4jpa.instrument.m2kr_1</legend>
                                When "@javax.persistence.MapKeyColumn" is choosed,
                                demonstrates how to use the "java.util.Map&lt;K, V&gt;" with the annotation
                                "@javax.persistence.OneToMany" and the Any Entity Type with the
                                annotation "@javax.persistence.ManyToOne" to generate
                                the ObjectModel4JPA with the association that's composed of
                                "java.util.Map&lt;K, V&gt;" and "org.babyfish.reference.KeyedReference&lt;K, T&gt;".
                                <div class="info">
                                    <ul>
                                        <li>
                                            Collection side must be inversed side,
                                            please specify the arugment "mappedBy" of "@javax.persistence.OneToMany".
                                        </li>
                                    </ul>
                                </div>
                            </fieldset>
                            <fieldset class="tree-node package">
                                <legend>org.babyfishdemo.om4jpa.instrument.m2kr_2</legend>
                                When "@javax.persistence.MapKey" is choosed,
                                demonstrates how to use the "java.util.Map&lt;K, V&gt;" with the annotation
                                "@javax.persistence.OneToMany" and the Any Entity Type with the
                                annotation "@javax.persistence.ManyToOne" to generate
                                the ObjectModel4JPA with the association that's composed of
                                "java.util.Map&lt;K, V&gt;" and "org.babyfish.reference.KeyedReference&lt;K, T&gt;".
                                <div class="info">
                                    <ul>
                                        <li>
                                            Collection side must be inversed side,
                                            please specify the arugment "mappedBy" of "@javax.persistence.OneToMany".
                                        </li>
                                    </ul>
                                </div>
                            </fieldset>
                            <fieldset class="tree-node package">
                                <legend>org.babyfishdemo.om4jpa.instrument.s2s</legend>
                                Demonstrates how to create how to use the "java.util.Set&lt;E&gt;" with the annotation
                                "@javax.persistence.ManyToMany" and the "java.util.Set&lt;E&gt;" with the annotation
                                "@javax.persistence.ManyToMany" to generate the ObjectModel4JPA.
                                <div class="info">
                                    <ul>
                                        <li>
                                            Not only "java.util.Set", "java.util.Collection" can be used too.
                                        </li>
                                        <li>
                                            One side must be inverse side, 
                                            please specify the argument "mappedBy" of "@javax.persistence.ManyToMany" of any one side.
                                        </li>
                                    </ul>
                                </div>
                            </fieldset>
                            <fieldset class="tree-node package">
                                <legend>org.babyfishdemo.om4jpa.instrument.l2s</legend>
                                Demonstrates how to create how to use the "java.util.List&lt;E&gt;" with the annotation
                                "@javax.persistence.ManyToMany" and the "java.util.Set&lt;E&gt;" with the annotation
                                "@javax.persistence.ManyToMany" to generate the ObjectModel4JPA.
                                <div class="info">
                                    <ul>
                                        <li>
                                            Not only "java.util.Set", "java.util.Collection" can be used too.
                                        </li>
                                        <li>
                                            Set side must be inverse side, 
                                            please specify the argument "mappedBy" of "@javax.persistence.ManyToMany" of set side.
                                        </li>
                                    </ul>
                                </div>
                            </fieldset>
                            <fieldset class="tree-node package">
                                <legend>org.babyfishdemo.om4jpa.instrument.m2s</legend>
                                Demonstrates how to create how to use the "java.util.Map&lt;K, V&gt;" with the annotation
                                "@javax.persistence.ManyToMany" and the "java.util.Set&lt;E&gt;" with the annotation
                                "@javax.persistence.ManyToMany" to generate the ObjectModel4JPA.
                                <div class="info">
                                    <ul>
                                        <li>
                                            Not only "java.util.Set", "java.util.Collection" can be used too.
                                        </li>
                                        <li>
                                            Set side must be inverse side, 
                                            please specify the argument "mappedBy" of "@javax.persistence.ManyToMany" of set side.
                                        </li>
                                    </ul>
                                </div>
                                <div class="warning">
                                    In runtime, the set side can only be used to remove associations; 
                                    Only the map side can be used to create the associations. 
                                    If this rule is broken, exception will be raised.
                                </div>
                            </fieldset>
                            <fieldset class="tree-node package">
                                <legend>org.babyfishdemo.om4jpa.instrument.embeddable</legend>
                                Demonstrates how to use the annotation
                                "@org.babyfish.persistence.instrument.JPAObjectModelInstrument"
                                on the class with JPA annotation "@javax.persistence.Embedddable"
                                (not "@javax.persistence.Entity")
                                <div class="info">
                                    ObjectModel4JPA bytecode instrument tool can be used on
                                    the class with annotation "@javax.persistence.MappedSuperClass" too,
                                    it unnecessary to demonstrate this functionality because it's 
                                    so similar with the current demo package. 
                                </div>
                            </fieldset>
                            <fieldset class="tree-node package">
                                <legend>org.babyfishdemo.om4jpa.instrument.comparsion</legend>
                                <p>
                                    Demonstrates how to used the annotation 
                                    "@org.babyfish.persistence.instrument.ReferenceComparisonRuleInstrument".
                                </p>
                                This annotation is used to add the "@org.babyfish.model.metadata.ReferenceComparisonRule"
                                to the generated nested ObjectModel4JPA interface.
                                In this demo package, this annotation let the collection association property
                                "org.babyfishdemo.om4jpa.instrument.comparsion.Department.employees"
                                use the "org.babyfish.collection.FrozenEqualityComparator&lt;E&gt;" that's base
                                on the property "org.babyfishdemo.om4jpa.instrument.comparsion.Employee.name".
                                So this collection should not contain two Employee objects with the same name
                                and it will be adjusted autmatically when the name of any Employee object of it
                                is changed.
                                <div class="info">
                                    In previous demos of this project,
                                    "@org.babyfish.persistence.instrument.ReferenceComparisonRuleInstrument"
                                    is not used, that means the collection reference uses the default
                                    FrozenEqualityComparator which can
                                    <ul>
                                        <li>
                                            Whe the JPA id of entity is null(ObjectModel4JPA doesn't accept the
                                            primitive type JPA id), uses the System.identityHashCode() to 
                                            calculate the hashCode of entity object and uses the equality
                                            of java references to implement the equality of entity objects.
                                        </li>
                                        <li>
                                            When the JPA id of entity is not null, uses the hashCode of JPA id
                                            to calculate the hashCode of entity object, and uses the equality
                                            of JPA ids to implement the equality of entity objects.
                                        </li>
                                        <li>
                                            When the JPA id is changed, all the collections that use
                                            this FrozenEqualityComparator&lt;E&gt; will be adjusted automactially
                                            because this comparator supports "Unstable Collection Elements".
                                        </li>
                                    </ul>
                                </div>
                            </fieldset>
                            <fieldset class="tree-node package">
                                <legend>org.babyfishdemo.om4jpa.instrument.navigable</legend>
                                <p>
                                    Demonstrates how to used the annotation 
                                    "@org.babyfish.persistence.instrument.NavigableInstrument".
                                </p>
                                Be different with ObjectModel4Java
                                <ul>
                                    <li>
                                        For ObjectModel4Java, the user declares the nested
                                        ObjectModel4Java interface manually, so it's very easy
                                        to declare the returned type of a collection association 
                                        property to be "java.util.NavigableSet&lt;E&gt;" or 
                                        "java.util.NavigableMap&lt;K, V&gt;".
                                    </li>
                                    <li>
                                        For ObjectModel4JPA
                                        <ul>
                                            <li>
                                                The nested ObjectModel4JPA interface isn't declared by the 
                                                user manually, it's genrated automatcially by the maven-plugin
                                                (ant-task) of babyfish-hibernate-tool.
                                            </li>
                                            <li>
                                                The property of JPA entity classes can't be declared
                                                by the type "java.util.NavigableSet&lt;E&gt;" or 
                                                "java.util.NavigableMap&lt;K, V&gt;" explicitly; 
                                                otherwise, an exception will be thrown by JPA provider.
                                            </li>
                                        </ul>
                                        So ObjectModel4JPA supports the annotation
                                        "@org.babyfish.persistence.instrument.NavigableInstrument",
                                        it can be used on the JPA property whose type is
                                        "java.util.Collection&lt;E&gt;", "java.util.Set&lt;E&gt;"
                                        or "java.util.Map&lt;K, V&gt;", let the type of corresponding
                                        property of the generated nested ObjectModel4JPA interface to be
                                        "java.util.NavigableSet&lt;E&gt;" or "java.util.NavigableMap&lt;K, V&gt;".
                                    </li>
                                </ul>
                                <div class="info">
                                    <ul>
                                        <li>
                                            If "@org.babyfish.persistence.instrument.NavigableInstrument" is used
                                            on JPA property whose type is "java.util.Set&lt;E&gt;",
                                            "@org.babyfish.persistence.instrument.ReferenceComparisonRuleInstrument"
                                            must be used too, because ObjectModel does not support default comparator
                                            for "java.util.NavigableSet&lt;E&gt;".
                                        </li>
                                        <li>
                                            If "@org.babyfish.persistence.instrument.NavigableInstrument" is used
                                            on JPA property whose type is "java.util.Set&lt;E&gt;",
                                            the another annotation 
                                            "@org.babyfish.persistence.instrument.ReferenceComparisonRuleInstrument"
                                            is used too generated the "org.babyfish.collection.FrozenComparator&lt;E&gt;",
                                            not "org.babyfish.collection.FrozenEqualityComaparator&lt;E&gt;", because
                                            the actual type of this association is java.util.NavigableSet&lt;E&gt; that
                                            needs "java.util.Comparator&lt;E&gt;".
                                        </li>
                                    </ul>
                                </div>
                            </fieldset>
                            <fieldset class="tree-node package">
                                <legend>org.babyfishdemo.om4jpa.instrument.contravariance</legend>
                                <p>
                                    Demonstrates how to use the annotation 
                                    "@org.babyfish.persistence.instrument.ContravarianceInstrument".
                                </p>
                                This annotation is used to add the "@org.babyfish.model.metadata.Contravariance"
                                to the generated nested ObjectModel4JPA interface.
                                <div class="info">
                                    The contravariance functionality of ObjectModel4JPA is different with
                                    the contravariance functionality of ObjectModel4Java.
                                    <ul>
                                        <li>
                                            If "@org.babyfish.persistence.instrument.ContravarianceInstrument"
                                            if used to an JPA property, "@javax.persistence.Transient"
                                            must be used too, because the real data is retained by the
                                            covariance property of super(or ancestor)class, not by this
                                            contravariance property.
                                        </li>
                                        <li>
                                            <ul>
                                                <li>
                                                    For ObjectModel4Java,
                                                    If a contravariance association property is reference(not collection),
                                                    its name can be same with the name of covariance property of 
                                                    super(or ancestor)class.
                                                </li>
                                                <li>
                                                    For ObjectModel4JPA,
                                                    the name of contravariance association property can't be same 
                                                    with the name of covariance property of super(or ancestor)class,
                                                    because the JPA-proxy mechanim can destroy the java type consistency.
                                                    For example, the lazy proxy may be an instance of super class but 
                                                    not an instance of derived class, but the real object wrapped by this
                                                    proxy may be an instance of derived class.
                                                </li>
                                            </ul>
                                        </li>
                                    </ul>
                                </div>
                            </fieldset>
                        </fieldset>
                        <fieldset class="tree-node package">
                            <legend>org.babyfishdemo.om4jpa.instrument.disablity</legend>
                            <p>
                                ObjectModel4JPA supports a functionality: "disablity", this functionality
                                is very helpful for real projects.
                            </p>
                            ObjectModel4JPA supports caritive entity object, some properites of the entity object
                            can be enabed but the other properties of the entity object can be disabled.
                            <ul>
                                <li>
                                    
                                    When an caritive entity object is submitted to update database, 
                                    only the columns that can be mapped to the enabled properties will 
                                    be update, the other columns that can be mapped to the disabled
                                    properties will never be updated.
                                </li>
                                <li>
                                    BabyFish supports special argument validation API to 
                                    let business logic object to restrict the max enabled properties range,
                                    so the business logic object can guarantee the user can only update 
                                    the columns that are allowed to be updated.
                                </li>
                                <li>
                                    The id property can't be disabled.
                                </li>
                                <li>
                                    Disabled scalar property will be enabled automatically when its setter is called.
                                </li>
                                <li>
                                    Disabled association property will be enabled automatically when it's modified.
                                </li>
                            </ul>
                        </fieldset>
                    </fieldset>
                </fieldset>
                <fieldset class="tree-node project">
                    <legend>babyfishdemo-jpa-criteria</legend>
                    This project demonstrates the JPA Criteria implementation provided by babyfish.
                    it's smarter than the implementation of Hibernate.
                    <p>
                        In order to add some functionalities,
                        Babyfish supports a new interface 
                        "org.babyfish.persistence.criteria.XCriteriaBuilder"
                        that extends "javax.persistence.criteria.CriteriaBuilder".
                    </p>
                    <p>
                        Most demos of babyfish do the query by Criteria API,
                        Not by JPQL(or NamedQuery, Spring-Data-JPA), becuase
                    </p>
                    <ul>
                        <li>
                            Be different with the JPQL, The JPA Criteria implemenation
                            of BabyFish has some performance optimization functionalities.
                        </li>
                        <li>
                            For java language, JPQL is string literal, all errors of JPQL 
                            can only be reported in runtime. 
                            It's not easy to make the JPQL is concurrent
                            so that it's need more time to let the test cases
                            be passed, though JPQL needs less characters for code.
                        </li>
                        <li>
                            In real projects, when entity object 
                            structure is refactored, before the refactor is finished, 
                            Criteria API can report many errors in compilation-time,
                            but JPQL can only report the errors during unit test(or integration test).
                            it's need more time the finish the refactor,
                            because fixing test errors is harder than fixing compilation error.
                            <div class="warning">
                                Refactor efficiency is more important than the writing efficiency.
                            </div>
                        </li>
                    </ul>
                    <fieldset class="tree-node folder">
                        <legend>src/test/java</legend>
                        <fieldset class="tree-node package">
                            <legend>org.babyfishdemo.jpacriteria</legend>
                            <fieldset class="tree-node file">
                                <legend>NullableExpressionTest.java</legend>
                                <p>
                                    Demonstrates that the "and", "or" and "not" of
                                    "CriteriaBuilder" can accept null predicate,
                                    this functionality is very useful for dynamic 
                                    query condition.   
                                </p>
                            </fieldset>
                            <fieldset class="tree-node file">
                                <legend>LiteralAndConstantTest.java</legend>
                                Demonstrates the methods "literal" and 
                                "constant"(new method added by babyfish)
                                of "XCriteriaBuilder"
                                <fieldset class="tree-node method">
                                    <legend>testLiteral</legend>
                                    Be different with Hibernate, Hibernate translates numbric literal 
                                    to SQL literal because Hibernate thinks numberic literal can
                                    not cause "SQL Injection Attacking" problem, 
                                    In babyfish,
                                    "CriteriaBuilder.literal" is implemented 
                                    by Open-JPA style: Literal Expression will
                                    always be transalated to SQL parameters.
                                    Becasue it's very helpful for both HSQL cache of Hibernate
                                    and SQL cache of Database.
                                    <div class="info">
                                        In real projects, the user only need to use
                                        "javax.persistence.criteria.CriteriaBuilder.literal()",
                                        Please say "Good Bye" to the method
                                        "javax.persistence.criteria.CriteriaBuilder.parameter()"
                                    </div>
                                </fieldset>
                                <fieldset class="tree-node constant">
                                    <legend>testConstant</legend>
                                    Some databases, such as Oracle,
                                    support "function index",
                                    BabyFish support "XCriteriaBuilder.constant"
                                    to create constant expressions, be different
                                    with literal expressions, constant expressions
                                    will always be translated to SQL literals.
                                    Crating function index for expression that contain
                                    SQL literals can otpimize the performance.
                                </fieldset>
                            </fieldset>
                            <fieldset class="tree-node file">
                                <legend>InPredicateTest.java</legend>
                                <p>
                                    "expr in (...)" is a popular SQL expression that
                                    is used in real projects frequently. But the "in" 
                                    expression of Oracle can only support 1000 list 
                                    elements.
                                </p>
                                <p>
                                    BabyFish resovled this problems, if "CriteriaBuilder.in"
                                    is used to create an "in" expression whoes list element 
                                    count is greator than 1000, BabyFish criteria can generate
                                    JPQL like this.
                                </p>
                                <div class="code"><pre>
expr in(value1, value2 value3, ..., value1000) 
or
expr in(value1001, value1002 value1003, ..., value2000) 
or
... ...
or
expr in(... ...)  
                                </pre></div>
                                <p>
                                    This test class uses a fake hibernate dialect that does
                                    not support "in" expression with more than 10 list elements
                                    to demonstrates this functionality.
                                </p>
                            </fieldset>
                            <fieldset class="tree-node file">
                                <legend>JoinModeTest.java</legend>
                                BabyFish JPA Criteria API supports an enum 
                                "org.babyfish.persistence.criteria.JoinMode"
                                that contains four constants
                                <ul>
                                    <li>OPTIONALLY_MERGE_EXISTS(default)</li>
                                    <li>OPTIONALLY_CREATE_NEW</li>
                                    <li>REQUIRED_TO_MERGE_EXISTS</li>
                                    <li>REQUIRED_TO_CREATE_NEW</li>
                                </ul>
                                This enum can be used when a join is created,
                                it can decide whether this join can be merged
                                with others or can be ignored directly.
                                <fieldset class="tree-node method">
                                    <legend>testCreateNew</legend>
                                    If two duplicated joins are created,
                                    they will never be marged to one join
                                    when any one of them has the join mode 
                                    OPTIONALLY_CREATE_NEW or REQUIRED_TO_CREATE_NEW.
                                </fieldset>
                                <fieldset class="tree-node method">
                                    <legend>testMergeExists</legend>
                                    If two duplicated joins are created,
                                    they will be marged to one join
                                    when both of them have the join mode 
                                    OPTIONALLY_MERGE_EXISTS or REQUIRED_TO_MERGE_EXISTS.
                                </fieldset>
                                <fieldset class="tree-node method">
                                    <legend>testOptionalJoinIsIgnored</legend>
                                    If a join is created by OPTIONALLY_MERGE_EXISTS or
                                    OPTIONALLY_CREATE_NEW, it will be ignored when
                                    it's not used in any expressions.
                                </fieldset>
                                <fieldset class="tree-node method">
                                    <legend>testOptionalJoinIsApplied</legend>
                                    If a join is created by OPTIONALLY_MERGE_EXISTS or
                                    OPTIONALLY_CREATE_NEW, it will be applied when
                                    it's used in any expressions.
                                </fieldset>
                            </fieldset>
                            <fieldset class="tree-node file">
                                <legend>ExtTest.java</legend>
                                Demonstrates how to uses the new functionalities
                                under the package "org.babyfish.persistence.criteria.ext".
                            </fieldset>
                            <fieldset class="tree-node file">
                                <legend>DynamicQueryTest.java</legend>
                                Demonstrates how to use BabyFish JPA Criteria API to support
                                complex dyanmic query, via 4 code styles.
                            </fieldset>
                            <fieldset class="tree-node file">
                                <legend>OptimizationTest.java</legend>
                                Demonstrates the performance optimization functionalities 
                                of BabyFish JPA Criteria.
                            </fieldset>
                        </fieldset>
                    </fieldset>
                </fieldset>
                <fieldset class="tree-node project">
                    <legend>babyfishdemo-querypath</legend>
                    There are two kinds of QueryPath
                    <ul>
                        <li>FetchPath: Fetch the properties dynamically, for both scalar and association(This can be consider as Include Path of ADO.NET Entity Framework)</li>
                        <li>SimpleOrderPath, Specifiy the simple sorting dynamically.</li>
                    </ul>
                    <div class="info">
                        In this demo, there are many "Typed QueryPath" classes whoes name end with "__",
                        all of them are generated dynamically during the maven compliation.
                        please see the proessor "org.babyfish.persistence.tool.path.TypedQueryPathProcessor"
                        of maven plugin "maven-processor-plugin" to know more.
                    </div>
                    <fieldset class="tree-node folder">
                        <legend>src/test/java</legend>
                        <fieldset class="tree-node package">
                            <legend>org.babyfishdemo.querypath</legend>
                            <div class="info">
                                In real projects, please use QueryPath to say "Good Bye" to 
                                <ul>
                                    <li>"N + 1" Query of Hibernate</li>
                                    <li>"Open Session In View" solution of spring framework. Nobody except business logic layer should create transaction.</li>
                                </ul>
                            </div>
                            <fieldset class="tree-node file">
                                <legend>AssociationFetchPathTest.java</legend>
                                Demonstrates how to use FetchPath to fetch the 
                                lazy association properites dynamically.
                            </fieldset>
                            <fieldset class="tree-node file">
                                <legend>ScalarFetchPathTest.java</legend>
                                Demonstrates how to use FetchPath to fetch the 
                                lazy scalar properites dynamically.
                            </fieldset>
                            <fieldset class="tree-node file">
                                <legend>SimpleOrderPathTest.java</legend>
                                Demonstrates how to use SimpleOrderPath to 
                                specify the order clause dyanmically.
                            </fieldset>
                        </fieldset>
                    </fieldset>
                </fieldset>
                <fieldset class="tree-node project">
                    <legend>babyfishdemo-distinct-limit-query</legend>
                    This project demonstrates two functionalities
                    <ul>
                        <li>
                            Unlimited count:
                            <p>
                                Paging Query is popular in real projects,
                                it requires two SQL statements
                            </p>
                            <ul>
                                <li>
                                    SQL to query the total row count, its returned value can be used
                                    to calculate the total page count, check whether the current page
                                    is the last page.
                                </li>
                                <li>
                                    SQL to query the rows in this page.
                                </li>
                            </ul>
                            <p>
                                These two SQL statements are different, but there are some similarities between them.
                                When one is changed, the other one must be changed too, this work is boring and error-prone.
                            </p>
                            <p>
                                BabyFish supports a functionality called "UnlimitedCount", the programmer only need
                                to specify the second SQL statement,
                                "org.babyfish.persistence.XQuery.getUnlimitCount()" generates the first SQL statement 
                                internally and return the total row count.
                            </p>
                        </li>
                        <li>
                            DistinctLimitQuery:
                            This functionality is Oracle only. 
                            <p>
                                When a paging query contains collection fetches,
                                hibernate will use memory-level paging query: query all the rows from database and
                                do the paging filter in memory. 
                            </p>
                            <p>
                                BabyFish supports a functionality called "DistinctLimitQuery",
                                When database is Oracle, the paging query will always be applied
                                on database level even if the query contains collection joins.
                            </p>
                        </li>
                    </ul>
                    <fieldset class="tree-node folder">
                        <legend>src/test/java</legend>
                        <fieldset class="tree-node package">
                            <legend>org.babyfishdemo.distinctlimitquery</legend>
                            <fieldset class="tree-node file">
                                <legend>AllRowsTest.java</legend>
                                This test class demonstrate what the difference between
                                "org.babyfish.persistence.QueryType.DISTINCT"
                                and
                                "org.babyfish.persistence.QueryType.RESULT" is.
                            </fieldset>
                            <fieldset class="tree-node file">
                                <legend>ResultLimitQueryTest.java</legend>
                                This test class demonstrates the paging query with collection joins 
                                will be applied on database level for any database when the queryType is
                                "org.babyfish.persistence.QueryType.RESULT"
                                (This looks like paging query of classic Hibernate QBC query).
                                But maybe it's not useful in real projects because programmers
                                often want to get the distinct query result.
                            </fieldset>
                            <fieldset class="tree-node file">
                                <legend>UnlimitedCountOptimizationTest.java</legend>
                                This test class demonstrates babyfish can optimize
                                the SQL that automatically generated by "UnlimitedCount"
                                as much as possible. 
                            </fieldset>
                            <fieldset class="tree-node file">
                                <legend>HsqldbMemoryLevelLimitQueryForDistinctTest.java</legend>
                                This test class demonstrates hibernate query all
                                the rows from database and then apply the paging filter in memory
                                when the paging query contains collection fetches.
                                <div class="info">
                                    A little difference with Hibernate.
                                    <ul>
                                        <li>
                                            In hibernate, memory level paging is always enabled,
                                            only a warning message of log can remind the programmer
                                            there is a big peformance issue.
                                        </li>
                                        <li>
                                            <p>
                                                For default configuration of BabyFish, the memory level
                                                paging filter is disabled, an exception will raise if the paging
                                                query contains collection joins and current database does not
                                                support DistinctLimitQuery. 
                                            </p>
                                            <p>
                                                The programer must set the jpa/hibernate property 
                                                "babyfish.hibernate.enable_limit_in_memory" to be true to 
                                                enable the memory level paging filter if the he/she 
                                                still want to use the memory level paing filter and is willing to 
                                                accept such a huge cost of performance.
                                            </p>
                                            <p>
                                                Please see
                                                <pre>
                                                    &lt;property name="babyfish.hibernate.enable_limit_in_memory" value="true"/&gt;
                                                </pre>
                                                of "src/test/resources/persistence.xml" to known more.
                                            </p>
                                        </li>
                                    </ul>
                                </div>
                            </fieldset>
                            <fieldset class="tree-node file">
                                <legend>DistinctLimitQueryTest.java</legend>
                                This test class can only be executed when the database is Oracle,
                                if database isn't Oracle, this test will be ignored.
                                <div class="warning">
                                    In order to run this test class, please
                                    <ul>
                                        <li>
                                            <div>
                                                Enter "o" to answer the first question when the
                                                "<span class="variable">${babyfish-dir}</span>/install/babyfish/install-demo.sh"(or .bat)
                                                is executed.
                                            </div>
                                            or
                                            <div>
                                                use 
                                                <pre>mvn eclipse:eclipse -Doracle</pre>
                                                when create the eclipse project file after 
                                                "<span class='variable'>${babyfish-dir}</span>/install/ojdbc/install.sh(or .bat)"
                                                is executed.
                                            </div>
                                        </li>
                                        <li>
                                            Specify the VM arguments
                                            <pre>-Doracle=${jdbc_connection_string} -Doracle.user=${oracle.user} -Dpassword=${oracle_password}</pre>
                                            When run this test case whether by mvn install command or eclipse junit runner.
                                        </li>
                                    </ul>
                                </div>
                                <fieldset class="tree-node method">
                                    <legend>testLimitQueryByDenseRank</legend>
                                    This method demonstrates using the built-in analytic function "DENSE_RANK"
                                    of oracle to do the DistinctLimitQuery for simple situation.
                                </fieldset>
                                <fieldset class="tree-node method">
                                    <legend>testLimitQueryByDistinctRank</legend>
                                    This method demonstrates using the babyfish defined analytic function 
                                    "DISTINCT_RANK" to do the DistinctLimitQuery for complex situation.
                                </fieldset>
                            </fieldset>
                        </fieldset>
                    </fieldset>
                </fieldset>
                <fieldset class="tree-node project">
                    <legend>
                        <span class="comprehensive">
                            <!--id for HTML5, name for HTML4-->
                            <a id="babyfishdemo-spring" name="babyfishdemo-spring">babyfishdemo-spring</a>
                        </span>
                    </legend>
                    <span class="comprehensive">This is comprehensive demo for BabyFish JPA</span>,
                    It demonstrates how to use babyfish-jpa with springframework together.
                    <div class="warning">
                        This demo project does not use Spring-Data-JPA, BabyFish doesn't suggest the user
                        to use Spring-Data-JPA. The reason has been discussed in the other chapter 
                        "babyfishdemo-jpa-criteria" of this document.
                    </div>
                    <fieldset class="tree-node folder">
                        <legend>src/test/java</legend>
                        <fieldset class="tree-node package">
                            <legend>org.babyfishdemo.spring.dal</legend>
                            <fieldset class="tree-node file">
                                <legend>DynamicConditionTest.java</legend>
                                This test method demonstrates how to use the babyfish-jpa-critera
                                in spring repository class.
                            </fieldset>
                            <fieldset class="tree-node file">
                                <legend>QueryPathTest.java</legend>
                                This test method demonstrates how to use the QueryPath
                                in spring repository class.
                            </fieldset>
                            <fieldset class="tree-node file">
                                <legend>PagingQueryForDistinctModeTest.java</legend>
                                This test method demonstrates how to use the DistinctLimitQuery
                                in spring repository class.
                                <div class="warning">
                                    In order to run this test class in Oracle mode, please
                                    <ul>
                                        <li>
                                            <div>
                                                Enter "o" to answer the first question when the
                                                "<span class="variable">${babyfish-dir}</span>/install/babyfish/install-demo.sh"(or .bat)
                                                is executed.
                                            </div>
                                            or
                                            <div>
                                                use 
                                                <pre>mvn eclipse:eclipse -Doracle</pre>
                                                when create the eclipse project file after 
                                                "<span class='variable'>${babyfish-dir}</span>/install/ojdbc/install.sh(or .bat)"
                                                is executed.
                                            </div>
                                        </li>
                                        <li>
                                            Specify the VM arguments
                                            <pre>-Doracle=${jdbc_connection_string} -Doracle.user=${oracle.user} -Dpassword=${oracle_password}</pre>
                                            When run this test case whether by mvn install command or eclipse junit runner.
                                        </li>
                                    </ul>
                                </div>
                            </fieldset>
                        </fieldset>
                    </fieldset>
                </fieldset>
            </fieldset>
            <fieldset class="tree-node category">
                <legend>Final comprehensive demo</legend>
                <fieldset class="tree-node project">
                    <legend>
                        <span class="comprehensive">
                            <!--id for HTML5, name for HTML4-->
                            <a id="babyfishdemo-war3shop" name="babyfishdemo-war3shop">babyfishdemo-war3shop</a>
                        </span>
                    </legend>
                    <span class="comprehensive">This project is comprehensive demo for whole BabyFish</span>,
                    it is composed with 6 sub projects.
                    <div class="warning">
                        Please see <a href="../get-started.html" target="_blank">get-started</a> to know how to run war3shop.
                    </div>
                    <fieldset class="tree-node project">
                        <legend>war3shop-entities</legend>
                        This is project is used to declare the entity classes, 
                        Three additional compilation actions are used in pom.xml
                        <ul>
                            <li>
                                Add the processor "org.hibernate.jpamodelgen.JPAMetaModelEntityProcessor"
                                to "maven-processor-plugin" to generate the JPA static meta model.
                                This is standard behavior of Hibernate.
                            </li>
                            <li>
                                Add the processor "org.babyfish.persistence.tool.path.TypedQueryPathProcessor"
                                to "maven-processor-plugin" to generate TypedQueryPath classes.
                                This is behavior of BabyFish
                            </li>
                            <li>
                                Add the task "org.babyfish.hibernate.tool.InstrumentTask"
                                to "maven-antrun-plugin" to change the bytecode of entity classes
                                to let them support ObjectModel4JPA. This is behavior of BabyFish.
                                <div class="warning">
                                    Note: Hibernate's instrument task should not be used
                                    when BabyFish's instrument task is used.
                                </div>
                            </li>
                            <li>
                                All the entity classes and embedddable classes should be marked 
                                by the annotation 
                                "@org.babyfish.persistence.instrument.JPAObjectModelInstrument"
                                so that all of them can be processed by the byte instrument task
                                of BabyFish.
                            </li>
                        </ul>
                        <div class="info">
                            Suggest to use java decompilation tool to decompile byte-code
                            of entity classes, to see what has been done by BabyFish.
                        </div>
                    </fieldset>
                    <fieldset class="tree-node project">
                        <legend>war3shop-dal</legend>
                        This project is interface of data access layer, it declares interfaces
                        of data access objects.
                    </fieldset>
                    <fieldset class="tree-node project">
                        <legend>war3shop-dal-impl</legend>
                        This project is implementation of data access layer, it's base on
                        BabyFish-Spring-ORM so that it's  powerful but its code is simple,
                        so it's unnecessary to discuss it in this document.
                        <fieldset class="tree-node folder">
                            <legend>src/main/resources</legend>
                            <fieldset class="tree-node file">
                                <legend>war3shop-dal-impl.spring.xml</legend>
                                The spring configuration file for data access layer.
                            </fieldset>
                        </fieldset>
                    </fieldset>
                    <fieldset class="tree-node project">
                        <legend>war3shop-bll</legend>
                        This project is interface of business logic layer, it declares interfaces
                        of business logic objects.
                    </fieldset>
                    <fieldset class="tree-node project">
                        <legend>war3shop-bll-impl</legend>
                        This project is implementation of business logic layer.
                        <fieldset class="tree-node folder">
                            <legend>src/main/resources</legend>
                            <fieldset class="tree-node file">
                                <legend>war3shop-bll-impl.spring.xml</legend>
                                The spring configuration file for business logic layer.
                            </fieldset>
                        </fieldset>
                        <fieldset class="tree-node folder">
                            <legend>src/main/java</legend>
                            <fieldset class="tree-node package">
                                <legend>org.babyfishdemo.war3shop.bll.impl.aop</legend>
                                <fieldset class="tree-node file">
                                    <legend>RequirePermission.java</legend>
                                    This annotation can be used by the method of business logic object
                                    if that method requires some permissions.
                                </fieldset>
                                <fieldset class="tree-node file">
                                    <legend>PermissionAspect</legend>
                                    This is a spring-aspectj class, if a method of business logic uses
                                    the annotation "@RequirePermission(...)", it will check whether
                                    the current user has the specified permissions, if not, throw exception.
                                </fieldset>
                            </fieldset>
                            <fieldset class="tree-node package">
                                <legend>org.babyfishdemo.war3shop.bll.impl</legend>
                                <fieldset class="tree-node file">
                                    <legend>AuthorizationServiceImpl.java</legend>
                                    The user passwords in database are encrypted binary values,
                                    this service must use SHA-1 algorithm to convert the string password 
                                    from UI to encrypted binary value before the database operations.
                                    <fieldset class="tree-node method">
                                        <legend>register</legend>
                                        Register a customer, if it's successed, send mail to the customer.
                                    </fieldset>
                                    <fieldset class="tree-node method">
                                        <legend>login</legend>
                                        Login. If it's succssed, give the warning about the 
                                        password is expired if necessary, and update the last login time
                                        of current user.
                                    </fieldset>
                                    <fieldset class="tree-node method">
                                        <legend>submitAdministrator</legend>
                                        This method is invoked when an administrator is created or modified
                                        by the account manager(Super administrator).
                                        <ul>
                                            <li>
                                                This method call only be invoked when the current user
                                                is account manager(super administrator)
                                            </li>
                                            <li>
                                                If the current operation is creating(not modifying),
                                                generate a random password and send it to the email
                                                of the created administrator.
                                            </li>
                                            <li>
                                                If the current operation is modifying(not creating)
                                                and the privilege "purchase-products" will be removed
                                                form the modified administrator.
                                                <ul>
                                                    <li>
                                                        Remove all the relationships between the manufactures 
                                                        that can be purchased by the modified administrator
                                                        and the modified administrator.
                                                    </li>
                                                    <li>
                                                        Remove all the relationships between the products 
                                                        that can be purchased by the modified administrator
                                                        and the modified administrator.
                                                    </li>
                                                </ul>
                                            </li>
                                            <li>
                                                The the current operation is modifying(not creating)
                                                and the privilege "delivery-orders" will be removed
                                                from the modified administator
                                                <ul>
                                                    <li>
                                                        Remove all the relationships between all the orders
                                                        that have been assigned to the modified administrator
                                                        and the modified administrtor
                                                    </li>
                                                    <li>
                                                        Send email to the customers whose some orders
                                                        have been assigned to the modified administrator
                                                        to tell them their orders have been unassigned tmporarily.
                                                    </li>
                                                </ul>
                                            </li>
                                        </ul>
                                    </fieldset>
                                </fieldset>
                                <fieldset class="tree-node file">
                                    <legend>ConfigurationServiceImpl.java</legend>
                                    This service is used to read, write global variables.
                                    Some variable names start with "*", that means their values
                                    are encrypted binary values in database. For these varibles,
                                    this service must use RSA algorithm to do some encrypting work
                                    and decrypting work.
                                </fieldset>
                                <fieldset class="tree-node file">
                                    <legend>ProductServiceImpl.java</legend>
                                    <fieldset class="tree-node method">
                                        <legend>submitManufacturer</legend>
                                        Create or modify a manufacturer
                                        <ul>
                                            <li>
                                                This method can only be invoked when the current user
                                                is an administrator with the privilege "manage-manufacturers".
                                            </li>
                                            <li>
                                                When the administrator want to create relationship between 
                                                some adminsitrators and this manufacturer, 
                                                If any one of those administrators dose not have the 
                                                privilege "purchase-products", throw exception
                                            </li>
                                        </ul>
                                    </fieldset>
                                    <fieldset class="tree-node method">
                                        <legend>submitProduct</legend>
                                        Create or modify a product
                                        <ul>
                                            <li>
                                                This method can only be invoked when the current user
                                                is an administrator with the privilege "manage-products".
                                            </li>
                                            <li>
                                                When the administrator want to create relationship between 
                                                some adminsitrators and this product, 
                                                If any one of those administrators dose not have the 
                                                privilege "purchase-products", throw exception
                                            </li>
                                            <li>
                                                When the current operation is modifying(not creating)
                                                and the price of this product is changed, check whether
                                                there is any one preferential rule about this product 
                                                has been broken, if there is, throw exception.
                                            </li>
                                        </ul>
                                    </fieldset>
                                    <fieldset class="tree-node method">
                                        <legend>submitPreferential</legend>
                                        Create or modify a preferential rule for a product and one time range.
                                        <ul>
                                            <li>
                                                This method can only be invoked when the current user
                                                is an administrator with the privilege "manage-preferentials"
                                            </li>
                                            <li>
                                                At any time point, one product should not have two preferential 
                                                rules; otherwise, throw exception.
                                            </li>
                                            <li>
                                                The created or modified preferential rule must be valid,
                                                the rule must guarantee, the more the user buy, the more preferential;
                                                otherwise, throw exception.
                                            </li>
                                        </ul>
                                    </fieldset>
                                </fieldset>
                                <fieldset class="tree-node file">
                                    <legend>PurchasingServiceImpl.java</legend>
                                    This service allows the administrator with the privilege "purchase-products"
                                    to purchase 
                                    <ul>
                                        <li>the products that are assigned to him/her directly</li>
                                        <li>the products belong to manufactureres that are assigned to him/her</li>
                                    </ul>
                                    After purchasing, the inventory quantity for the purchased product must be increased.
                                </fieldset>
                                <fieldset class="tree-node file">
                                    <legend>SalesServiceImpl.java</legend>
                                    This class is used to create, change, assign and delivery order.
                                    <div class="info">
                                        In this demo, there are two kinds of orders.
                                        <ul>
                                            <li>Temporary order, it's the cart of customer that has not been submitted.</li>
                                            <li>Assured order, the real order that has been submitted by the customer.</li>
                                        </ul>
                                    </div>
                                    <fieldset class="tree-node method">
                                        <legend>
                                            addProductIntoCart, setProductQuantityOfCart, removeProductFromCart
                                        </legend>
                                        These three methods allow the customer to operator the cart(Temporary order).
                                        <ul>
                                            <li>These methods can only be invoked when the current user is a customer</li>
                                            <li>
                                                If the customer buys enough products with preferential rules, 
                                                customer can enjoy some incentives such as money reducing or gift.
                                                all the incentives can be attachment data of the order and
                                                they can be viewed by the customer.
                                            </li>
                                        </ul>
                                    </fieldset>
                                    <fieldset class="tree-node method">
                                        <legend>createOrder</legend>
                                        When the customer submit its cart, a new assured order should be created.
                                        <ul>
                                            <li>This method can only be invoked when the current user is a customer</li>
                                            <li>
                                                If inventory quantity of a product is not enough so that 
                                                customer can't create the order successfully,
                                                send both alarm and mail to the administrators that is reponsilbe 
                                                for purchsing this product.
                                            </li>
                                            <li>
                                                If inventory quantity of a product is become a number that's less than 10,
                                                send both alarm and mail to the administrators that is reponsilbe for purchsing
                                                of product.
                                            </li>
                                            <li>
                                                When the new order is created successful, the customer should 
                                                receive an email.
                                            </li>
                                        </ul>
                                    </fieldset>
                                    <fieldset class="tree-node method">
                                        <legend>assignDeliveryman</legend>
                                        This method is used to assign or re-assign the assured orders to delivery mans
                                        <ul>
                                            <li>
                                                This method can only be invoked when the current user
                                                is administrator with privilege "manage-orders".
                                            </li>
                                            <li>
                                                This method can only be used to assign or re-assign the
                                                orders the orders that have not been deliveried;
                                                otherwise, throw exception.
                                            </li>
                                            <li>
                                                After the assignment, the customer who is the owner of
                                                the order should receive an email.
                                            </li>
                                        </ul>
                                    </fieldset>
                                    <fieldset class="tree-node method">
                                        <legend>changeOrderAddress</legend>
                                        This method allows the customer change the contact address of
                                        a order.
                                        <ul>
                                            <li>This method can only be invoked when the current user is a customer</li>
                                            <li>
                                                This method can only be used to change the address of the order
                                                when it has not been deliveried; otherwise, throw exception.
                                            </li>
                                            <li>
                                                After the changing, the administrator who's reponsible for
                                                the deliverying this order should receive an alarm and an email.
                                            </li>
                                        </ul>
                                    </fieldset>
                                    <fieldset class="tree-node method">
                                        <legend>deliveryOrder</legend>
                                        This method is used to delivery order
                                        <ul>
                                            <li>
                                                This method can only be invoked when the current user
                                                is an administrator with the privilege "delivery-orders".
                                            </li>
                                            <li>
                                                The deliveryman can only delivery the order 
                                                that is assigned to him/here; otherwise, throw exception.
                                            </li>
                                            <li>
                                                The order must have not been deliveryed, otherwise, thow exception.
                                            </li>
                                            <li>
                                                After the order deliverying, the customer who's the owner
                                                of the order should receive an email.
                                            </li>
                                        </ul>
                                    </fieldset>
                                </fieldset>
                                <fieldset class="tree-node file">
                                    <legend>AlarmServiceImpl.java</legend>
                                    This method is used to read/write alarm, and it's reused by SalesServiceImpl.
                                </fieldset>
                                <fieldset class="tree-node file">
                                    <legend>UploadServiceImpl.java</legend>
                                    This service is used to handle the file uploading.
                                </fieldset>
                                <fieldset class="tree-node file">
                                    <legend>GarbageCollector.java</legend>
                                    This class does not implement the interface of project "war3shop-bll"
                                    because it's an internal component, it contains two 
                                    spring-scheduled methods.
                                    <ul>
                                        <li>Cleanup the uploaded file records that are timeout every 20 minites.</li>
                                        <li>Cleanup the temporary orders that are timeout every 1 weeak.</li>
                                    </ul>
                                </fieldset>
                                <fieldset class="tree-node file">
                                    <legend>MailComponent.java</legend>
                                    <p>
                                        This class does not implement the interface of project "war3shop-bll"
                                        because it's an internal component. This is used to send mail via the
                                        global configuration of database.
                                    </p>
                                    <p>
                                        There is no annotation "@org.springframework.stereotype.Component"
                                        on this class because it has several instances and all of them
                                        of declared in "src/main/resource/war3shop-bll-impl.spring.xml".
                                    </p>                                     
                                </fieldset>
                            </fieldset>
                        </fieldset>
                    </fieldset>
                    <fieldset class="tree-node project">
                        <legend>war3shop-web</legend>
                        This web project is pure javascript implementation base on 
                        <a href="http://www.telerik.com/kendo-ui">KendoUI</a>, KendoUI uses the 
                        GPLv3 lincense which is not free for commercial projects, that means
                        <ul>
                            <li>
                                Some javascript files of this project can not be used
                                by your commercial project.
                            </li>
                            <li>
                                If you want to use kendo UI in your commercial project, 
                                please contact 
                                <a href="http://www.telerik.com/company" target="_blank">telerik</a>
                                or <a href="http://www.telerik.com/purchase.aspx" target="_blank">Buy it</a>.
                            </li>
                        </ul>
                        <fieldset class="tree-node folder">
                            <legend>src/main/java</legend>
                            <fieldset class="tree-node package">
                                <legend>org.babyfishdemo.war3shop.web.js</legend>
                                <fieldset class="tree-node file">
                                    <legend><a id="templateScriptServlet">TemplateScriptServlet.java</a></legend>
                                    <p>
                                        This is the most important java class of this project,
                                        it's a servlet whose url is "/template-script.js", it's 
                                        referenced by the "src/main/webapp/index.html" like this:
                                    </p>
                                    <div class="code">&lt;script type="text/javascript" src="template-script.js"&gt;&lt;/script&gt;</div>
                                    <p>
                                        I'm sorry, war3shop is designed at the end of 2013, I didn't put enough attention 
                                        to web area in that period, so I didn't know AngualrJS and ReactJS. 
                                        But I hate the web-programming with HTML attribute "id" very much, so,
                                        as a temporary solution for war3shop-web, I decided to develop my
                                        OOP-template(not string-template) mechanism, that's why I created this java class.
                                    </p>
                                    <ul>
                                        <li>
                                            There are many XHTML template files under the folder "src/main/webapp/WEB-INF/templates",
                                            this servlet can compile all of them to a huge javascript function 
                                            "createTemplate(templateName, ...)" exported by the url "template-script.js".
                                            For example: the javascript code 
                                            <div class="code">
                                                var productManagment = createTemplate('ProductManager');
                                            </div>
                                            uses the XML-style UI code of "src/main/webapp/WEB-INF/templates/ProductManagement.xhtml"
                                            to create a HTMLElement and return return its jQuery wrapper.
                                        </li>
                                        <li>
                                            There are many javascript files under the folder "src/main/webapp/code-behind", these javascript
                                            files can be mapped to the template files one by one. They can provide the actual logic for each template file.
                                            For example: when the HTMLElement instance of XHTML template "ProductManagment.xhtml" is created 
                                            by the function "createTemplate", a javascript object of class "ProductManagement" declared
                                            in "ProductManagement.xhtml.js" is created too, the element and the object are bound together. 
                                            The jQuery wrapper of the element can use "jQueryWrapper.data('controller')" to get the object, 
                                            and the object can use "object.root" to get the jQuery wrapper of the element.
                                        </li>
                                        <li>
                                            In the XHTML template, there are some attributes whose prefix are "js" which is the alias
                                            of the namespace uri "http://www.babyfishdemo.org/javascript". 
                                            <ul>
                                                <li>
                                                    js:id="..."(Note, it's "js:id", not the HTML attribute "id") means the jQuery wrapper
                                                    of current element will be assigned to a field of the background javascript object 
                                                    automatically when the instanceof of the curren template is created,
                                                    the field name is the attribute value. For example, in template file "UserLogin.xhtml", 
                                                    there is an element with the property "js:id"
                                                    <div class="code">&lt;input js:id="nameTextBox" .../&gt;</div>,
                                                    in the javascript file "UserLogin.xhtml.js", the 
                                                    javascript class "UserLogin" has a field "nameTextBox":
                                                    <div class="code">
                                                        <pre><code>
//ioc: @UiField
this.nameTextBox = null;
                                                        </code></pre>
                                                    </div>
                                                    In this javascript, the programmer can use the field "nameTextBox" of 
                                                    current object to get the jQuery wrapper of that element declared in the template.
                                                </li>
                                                <li>
                                                    js:generate-client-id="true"
                                                    <p>
                                                        This template mechanism let the programmer create the UI component without HTML attribute "id" or "name".
                                                        If there are some elements with the HTML attribute "id" or "name", exception will be raised.
                                                    </p>
                                                    <p>
                                                        Unfortunately, because of some legacy reasons, 
                                                        sometimes the HTML attribute "id" and "name" are still required.
                                                    </p>
                                                    <ul>
                                                        <li>
                                                            HTML label requires HTML attribute "id", for example: 
                                                            &lt;label for="myId"&gt;Name&lt;myLabel&gt;&lt;input id="myId" /&gt;
                                                        </li>
                                                        <li>
                                                            The KendoUI Validator requires the HTML attribute "name", the element
                                                            without HTML attribute "name" will not be validated by kendoValidator.
                                                        </li>
                                                    </ul>
                                                    So, this template mechanism support the special attribute "js:generate-client-id",
                                                    It can dynamically generate the HTML attribute "id" and "name" for current element.
                                                </li>
                                                <li>
                                                    Other attributes, such as "js:click", "js:change", means the event binding.
                                                    For example: In the template file "UserLogin.xhtml", there is an element
                                                    <div class="code">
                                                        &lt;input js:id="loginButton" type="button" value="Login" class="k-primary" js:click="loginButton_click"/&gt;
                                                    </div>
                                                    In the javascript file "UserLogin.xhtml.js", the javascript class 
                                                    "UserLogin" has a member function "loginButton_click".
                                                    <div class="code">
                                                        <pre><code>
//ioc: @UiHandler
UserLogin.prototype.loginButton_click = function(e) {
    ... ...
};
                                                        </code></pre>
                                                    </div>
                                                    That means when the button is clicked, the member function "loginButton_click"
                                                    of the javascript object will be executed.
                                                </li>
                                            </ul>
                                        </li>
                                        <li>
                                            In the some XHTML template files, there are some
                                            <div class="code">
                                                &lt;js:include src="sub UI of another template"...&gt;
                                            </div>
                                            That means create an element of other template.
                                        </li>
                                    </ul>
                                    <div class="info">
                                        <ul>
                                            <li>
                                                If you know ASP.NET, you can consider the "*.xhtml" files as "*.aspx" files, 
                                                consider the "*.xhtml.js" files "*.aspx.cs" files.
                                            </li>
                                            <li>
                                                If you know GWT, you can
                                                consider the commant "//ioc: @UiField" as the annotation "com.google.gwt.uibinder.client.UiField",
                                                consider the comment "//ioc: @UiHandler" as the annotation "com.google.gwt.uibinder.client.UiHandler".
                                            </li>
                                            <li>"&lt;js:include/&gt;" can be consider as "&lt;jsp:include/&gt;"</li>
                                        </ul>
                                    </div>
                                </fieldset>
                            </fieldset>
                            <fieldset class="tree-node package">
                                <legend>org.babyfishdemo.war3shop.web.json</legend>
                                This web project use <a href="http://www.github.com/alibaba/fastjson" target="_blank">Alibaba Fastjson</a>
                                to convert Java Objects to JSON or conver JSON to Java Objects.
                                This package supports some classes to let alibaba fast join work better
                                with Hibernate, KendoUI and ObjectModel4JPA.
                                <fieldset class="tree-node file">
                                    <legend>HibernateLazyAssociationFilter.java</legend>
                                    Help Alibaba FastJson to convert Java Objects to JSON,
                                    the lazy assocation property(collection or reference)
                                    that has not been loaded will not be translated to JSON field.
                                </fieldset>
                                <fieldset class="tree-node file">
                                    <legend>HibernateLazyScalarFilter.java</legend>
                                    Help Alibaba FastJson to convert Java Objects to JSON,
                                    the lazy scalar property(@Basic(fetch = "true")) 
                                    that has not been loaded will not be translated to JSON field.
                                </fieldset>
                                <fieldset class="tree-node file">
                                    <legend>KendoUIJSONSerializer.java</legend>
                                    This class is used to weaken the serialization of Alibaba FastJSON
                                    to let KendoUI can work together with the serialized JSON. 
                                    Please see the comment to this class to know more.
                                </fieldset>
                                <fieldset class="tree-node file">
                                    <legend>JPAObjectModelJSONParser.java</legend>
                                    This class is used to the enhance the deserialization of Alibaba FastJSON.
                                    When deserialize the object whose class uses ObjectModel4JPA, if some properties
                                    of are not gaven by JSON, after deserialization, in the java class, these properties
                                    will be disabled.
                                    <div class="info">
                                        Unfortunately, I got this idea too late so that this class has only
                                        been used in two places in this project. Actually, this class
                                        is very useful and it should be used as much as possible.
                                    </div>
                                </fieldset>
                            </fieldset>
                        </fieldset>
                        <fieldset class="tree-node folder">
                            <legend>src/main/webapp</legend>
                            <fieldset class="tree-node folder">
                                <legend>WEB-INF</legend>
                                <fieldset class="tree-node file">
                                    <legend>war3shop-web.spring.xml</legend>
                                    The spring configuration of this web project.
                                </fieldset>
                                <fieldset class="tree-node file">
                                    <legend>site-map.xml</legend>
                                    The site map configuration of this web site.
                                </fieldset>
                                <fieldset class="tree-node folder">
                                    <legend><a id="templates">templates</a></legend>
                                    This folder contains all the template files that are compiled
                                    by the 
                                    <a href="#templateScriptServlet">
                                        org.babyfishdemo.war3shop.web.js.TemplateScriptServlet
                                    </a>
                                </fieldset>
                            </fieldset>
                            <fieldset class="tree-node folder">
                                <legend>code-behind</legend>
                                This folder contains the javascript files that can be mapped
                                to the template files under 
                                <a href="#templates">src/main/webapp/WEB-INF/templates</a> 
                                one by one.
                            </fieldset>
                            <fieldset class="tree-node file">
                                <legend>alibaba-fastjson-aop.js</legend>
                                Intercept "jQuery.ajax" to resolve the "{ $ref: ... }" generated
                                by <a href="http://www.github.com/alibaba/fastjson" target="_blank">Alibaba Fastjson</a>
                            </fieldset>
                            <fieldset class="tree-node file">
                                <legend>deferred.js</legend>
                                Like "com.google.gwt.user.client.DeferredCommand.addCommand"
                            </fieldset>
                            <fieldset class="tree-node file">
                                <legend>kendo-ui-extension.js</legend>
                                Ehance KendoUI to develop this project better
                                <ul>
                                    <li>
                                        Add widget "kendoGridEx" which extends "kendoGrid"
                                    </li>
                                    <li>
                                        Add new widget "kendowDropDownPanel", it likes
                                        like "kendoMultiSelect", but its drop down panel
                                        can be customerized. For example, let the drop down panel
                                        containn a grid widget.
                                        <div class="warning">
                                            Don't use this "kendoDropDownPanel" in real projects,
                                            I only want to finish this demo, I don't want to develop
                                            some web UI libraries(At least, this time I don't want).
                                            so this widget is not perfect and it has some problems.
                                            For example: It's impossible to embed kendoDropDownPanel
                                            into the dropdown panel of another kendoDropDownPanel.
                                        </div>
                                    </li>
                                </ul>
                            </fieldset>
                            <fieldset class="tree-node file">
                                <legend>querypath.js</legend>
                                Declares a global function "parameterMap",
                                its returned value is a string contains several
                                the query paths, it can be used by
                                kendo ui datasources.
                                <ul>
                                    <li>
                                        For paging query, KendoUI submit the 
                                        parameter "page" starts from 1. This function 
                                        changes it to be parameter "pageIndex" starts 
                                        from zero.
                                    </li>
                                    <li>
                                        kendoGrid supports the submitted parameter "sort" 
                                        to send the customized sorting by clicking
                                        the gird column header to server side,
                                        this function change it to be SimpleOrderPath
                                        of a part of the the parameter "queryPath".
                                    </li>
                                </ul>
                            </fieldset>
                            <fieldset class="tree-node file">
                                <legend>Workflow.js</legend>
                                This javascript class can be used to coordinate 
                                several ajax asynchronous requests, because I don't like 
                                promise design pattern.
                            </fieldset>
                        </fieldset>
                    </fieldset>
                </fieldset>
            </fieldset>
            <div class="author">
    	        <p>
    		        Tao Chen(&#38472;&#28059;)
    		        <a href="mailto:babyfish-ct@163.com">babyfish-ct@163.com</a>
    	        </p>
    	        <p>
    		        2015-10-11, ChengDu, China
    	        </p>
            </div>
        </div>
    </body>
</html>